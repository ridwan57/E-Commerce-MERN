(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[42],{1e3:function(e,t,c){"use strict";c.r(t);var n=c(33),a=c(111),s=c(0),r=c(21),i=c(43),o=c(887),l=c.n(o),u=c(12),j=c.n(u),d=c(15),b=c(23),h=c.n(b),m=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat("http://localhost:8000/api","/coupons"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat("http://localhost:8000/api","/coupon/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat("http://localhost:8000/api","/coupon"),{coupon:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),p=(c(886),c(291)),f=c(134),v=c(2);t.default=function(){var e=Object(s.useState)(""),t=Object(a.a)(e,2),c=t[0],o=t[1],u=Object(s.useState)(""),j=Object(a.a)(u,2),d=j[0],b=j[1],h=Object(s.useState)(""),N=Object(a.a)(h,2),g=N[0],k=N[1],w=Object(s.useState)(""),y=Object(a.a)(w,2),C=y[0],S=y[1],D=Object(s.useState)([]),q=Object(a.a)(D,2),E=q[0],J=q[1],L=Object(r.c)((function(e){return Object(n.a)({},e)})).user;Object(s.useEffect)((function(){P()}),[]);var P=function(){return m().then((function(e){return J(e.data)}))};return Object(v.jsx)("div",{className:"container-fluid",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-2",children:Object(v.jsx)(f.a,{})}),Object(v.jsxs)("div",{className:"col-md-10",children:[C?Object(v.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(v.jsx)("h4",{children:"Coupon"}),Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),S(!0),O({name:c,expiry:d,discount:g},L.token).then((function(e){S(!1),P(),o(""),k(""),b(""),i.b.success('"'.concat(e.data.name,'" is created'))})).catch((function(e){return console.log("create coupon err",e)}))},children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{className:"text-muted",children:"Name"}),Object(v.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return o(e.target.value)},value:c,autoFocus:!0,required:!0})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{className:"text-muted",children:"Discount %"}),Object(v.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return k(e.target.value)},value:g,required:!0})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{className:"text-muted",children:"Expiry"}),Object(v.jsx)("br",{}),Object(v.jsx)(l.a,{className:"form-control",selected:new Date,value:d,onChange:function(e){return b(e)},required:!0})]}),Object(v.jsx)("button",{className:"btn btn-outline-primary",children:"Save"})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("h4",{children:[E.length," Coupons"]}),Object(v.jsxs)("table",{className:"table table-bordered",children:[Object(v.jsx)("thead",{className:"thead-light",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"Name"}),Object(v.jsx)("th",{scope:"col",children:"Expiry"}),Object(v.jsx)("th",{scope:"col",children:"Discount"}),Object(v.jsx)("th",{scope:"col",children:"Action"})]})}),Object(v.jsx)("tbody",{children:E.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.name}),Object(v.jsx)("td",{children:new Date(e.expiry).toLocaleDateString()}),Object(v.jsxs)("td",{children:[e.discount,"%"]}),Object(v.jsx)("td",{children:Object(v.jsx)(p.a,{onClick:function(){return t=e._id,void(window.confirm("Delete?")&&(S(!0),x(t,L.token).then((function(e){P(),S(!1),i.b.error('Coupon "'.concat(e.data.name,'" deleted'))})).catch((function(e){return console.log(e)}))));var t},className:"text-danger pointer"})})]},e._id)}))})]})]})]})})}},134:function(e,t,c){"use strict";c(0);var n=c(31),a=c(2);t.a=function(){return Object(a.jsx)("nav",{children:Object(a.jsxs)("ul",{className:"nav flex-column",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(n.b,{to:"/admin/dashboard",className:"nav-link",children:"Dashboard"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(n.b,{to:"/admin/product",className:"nav-link",children:"Product"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(n.b,{to:"/admin/products",className:"nav-link",children:"Products"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(n.b,{to:"/admin/category",className:"nav-link",children:"Category"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(n.b,{to:"/admin/sub",className:"nav-link",children:"Sub Category"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(n.b,{to:"/admin/coupon",className:"nav-link",children:"Coupon"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(n.b,{to:"/user/password",className:"nav-link",children:"password"})})]})})}}}]);
//# sourceMappingURL=42.3a2982bb.chunk.js.map