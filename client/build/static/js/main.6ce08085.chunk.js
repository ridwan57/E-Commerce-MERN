(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{169:function(e,t,c){},203:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(32),r=c.n(a),s=(c(169),c(10)),o=c.n(s),i=c(25),l=c(36),u=c(16),j=(c(129),c(14)),b=c(9),d=c(121);c(170);d.a.initializeApp({apiKey:"AIzaSyBS7Gi4aU2rXZ2Tjy9XUYSaLgaW8HlqgnA",authDomain:"e-commerce-mern-dbf46.firebaseapp.com",projectId:"e-commerce-mern-dbf46",storageBucket:"e-commerce-mern-dbf46.appspot.com",messagingSenderId:"129077110402",appId:"1:129077110402:web:3ba530ea06be501fccf69b",measurementId:"G-R7KHNYMLJ4"});var h=d.a.auth(),O=new d.a.auth.GoogleAuthProvider,m=c(86),p=c(212),f=c(213),x=c(20),g=c(18),v=c(29),N=c.n(v),y=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat("http://localhost:8000/api","/create-or-update-user"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat("http://localhost:8000/api","/current-user"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat("http://localhost:8000/api","/current-admin"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=c(1),C=function(e){var t=e.history,c=Object(n.useState)("ridwananik57@gmail.com"),a=Object(b.a)(c,2),r=a[0],s=a[1],l=Object(n.useState)("1234567"),d=Object(b.a)(l,2),v=d[0],N=d[1],w=Object(n.useState)(!1),S=Object(b.a)(w,2),C=S[0],E=S[1],_=Object(x.c)((function(e){return Object(j.a)({},e)})).user,R=Object(x.b)();Object(n.useEffect)((function(){t.location.state||_&&_.token&&t.push("/")}),[_,t]);var P=function(e){var c=t.location.state;c?t.push(c.from):"admin"===e.data.role?t.push("/admin/dashboard"):t.push("/user/history")},A=function(){var e=Object(i.a)(o.a.mark((function e(t){var c,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),E(!0),e.prev=2,e.next=5,h.signInWithEmailAndPassword(r,v);case 5:return c=e.sent,n=c.user,e.next=9,n.getIdTokenResult();case 9:a=e.sent,y(a.token).then((function(e){R({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:a.token,role:e.data.role,_id:e.data._id}}),P(e)})).catch((function(e){return console.log(e)})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),u.b.error(e.t0.message),E(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.signInWithPopup(O).then(function(){var e=Object(i.a)(o.a.mark((function e(t){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.user,e.next=3,c.getIdTokenResult();case 3:n=e.sent,y(n.token).then((function(e){R({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:n.token,role:e.data.role,_id:e.data._id}}),P(e)})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),u.b.error(e.message)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"container p-5",children:Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col-md-6 offset-md-3",children:[C?Object(k.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(k.jsx)("h4",{children:"Login"}),Object(k.jsxs)("form",{onSubmit:A,children:[Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("input",{type:"email",className:"form-control",value:r,onChange:function(e){return s(e.target.value)},placeholder:"Your email",autoFocus:!0})}),Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("input",{type:"password",className:"form-control",value:v,onChange:function(e){return N(e.target.value)},placeholder:"Your password"})}),Object(k.jsx)("br",{}),Object(k.jsx)(m.a,{onClick:A,type:"primary",className:"mb-3",block:!0,shape:"round",icon:Object(k.jsx)(p.a,{}),size:"large",disabled:!r||v.length<6,children:"Login with Email/Password"})]}),Object(k.jsx)(m.a,{onClick:D,type:"danger",className:"mb-3",block:!0,shape:"round",icon:Object(k.jsx)(f.a,{}),size:"large",children:"Login with Google"}),Object(k.jsx)(g.b,{to:"/forgot/password",className:"float-right text-danger",children:"Forgot Password"})]})})})},E=function(e){var t=e.history,c=Object(n.useState)(""),a=Object(b.a)(c,2),r=a[0],s=a[1],l=Object(x.c)((function(e){return Object(j.a)({},e)})).user;Object(n.useEffect)((function(){l&&l.token&&t.push("/")}),[l,t]);var d=function(){var e=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={url:"http://localhost:3000/register/complete",handleCodeInApp:!0},e.next=4,h.sendSignInLinkToEmail(r,c);case 4:u.b.success("Email is sent to ".concat(r,". Click the link to complete your registration.")),window.localStorage.setItem("emailForRegistration",r),s("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"container p-5",children:Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(k.jsx)("h4",{children:"Register"}),Object(k.jsxs)("form",{onSubmit:d,children:[Object(k.jsx)("input",{type:"email",className:"form-control",value:r,onChange:function(e){return s(e.target.value)},placeholder:"Your email",autoFocus:!0}),Object(k.jsx)("br",{}),Object(k.jsx)("button",{type:"submit",className:"btn btn-raised",children:"Register"})]})]})})})},_=c(148),R=c.n(_),P=function(e){var t=e.text;return Object(k.jsx)(R.a,{options:{strings:t,autoStart:!0,loop:!0}})},A=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:8000/api","/categories"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:8000/api","/category/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("".concat("http://localhost:8000/api","/category/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),I=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat("http://localhost:8000/api","/category/").concat(t),c,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat("http://localhost:8000/api","/category/"),t,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:8000/api","/category/subs/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(n.useState)({}),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(b.a)(r,2),o=s[0],i=s[1];Object(n.useEffect)((function(){i(!1),A().then((function(e){console.log(e),a(e.data),i(!1)})).catch((function(e){console.log(e),i(!1)}))}),[]);return Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("div",{className:"row text-center",children:o?Object(k.jsx)("h4",{className:"text-danger",children:"Loading..."}):c&&c.length>0?c.map((function(e){return Object(k.jsx)("div",{className:"col btn-block m-3 btn btn-outlined-primary btn-lg btn-raised",children:Object(k.jsx)(g.b,{to:"/category/".concat(e.slug),children:e.name})},e._id)})):"No category"})})},U=c(205),B=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat("http://localhost:8000/api","/product/"),t,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:8000/api","/products/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("".concat("http://localhost:8000/api","/product/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),W=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:8000/api","/product/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat("http://localhost:8000/api","/product/").concat(t),c,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat("http://localhost:8000/api","/products"),{sort:t,order:c,page:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:8000/api","/products/total"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat("http://localhost:8000/api","/product/star/").concat(t),{star:c},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:8000/api","/product/related/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat("http://localhost:8000/api","/search/filters"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=c(149),X=c.n(Q),Z=function(e){if(e&&e.ratings){var t=e&&e.ratings,c=[],n=t.length;t.map((function(e){return c.push(e.star)}));var a=5*c.reduce((function(e,t){return e+t}),0)/(5*n);return Object(k.jsx)("div",{className:"text-center pt-1 pb-3",children:Object(k.jsxs)("span",{children:[Object(k.jsx)(X.a,{starDimension:"20px",starSpacing:"2px",starRatedColor:"red",rating:a,editing:!1})," ","(",e.ratings.length,")"]})})}},$=c(208),ee=c(206),te=function(e){var t=e.count;return Object(k.jsx)("div",{className:"row pb-5",children:function(){for(var e=[],c=0;c<parseInt(t);c++)e.push(Object(k.jsx)($.a,{className:"col-md-4",children:Object(k.jsx)(ee.a,{active:!0})},c));return e}()})},ce=c(214),ne=c(215),ae=c.p+"static/media/laptop.db0a6ff4.png",re=$.a.Meta,se=function(e){var t=e.product,c=e.handleRemove,n=t.title,a=t.description,r=t.images,s=t.slug;return Object(k.jsx)($.a,{cover:Object(k.jsx)("img",{alt:r&&r.length?r[0].public_id:"",src:r&&r.length?r[0].url:ae,style:{height:"150px",objectFit:"cover"},className:"p-1"}),actions:[Object(k.jsxs)(g.b,{to:"/product/".concat(s),children:[Object(k.jsx)(ce.a,{className:"text-warning"}),Object(k.jsx)("br",{})," View Product"]}),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ne.a,{className:"text-danger",onClick:function(e){return c(s)}})," ",Object(k.jsx)("br",{})," Add to cart"]})],children:Object(k.jsx)(re,{title:n,description:"".concat(a&&a.substring(0,20),"...")})})},oe=function(){Object(x.c)((function(e){return Object(j.a)({},e)})).user;var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(b.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(1),u=Object(b.a)(l,2),d=u[0],h=u[1],O=Object(n.useState)(0),m=Object(b.a)(O,2),p=m[0],f=m[1];Object(n.useEffect)((function(){g()}),[d]),Object(n.useEffect)((function(){V().then((function(e){return f(e.data)}))}),[]);var g=function(){i(!0),q("sold","desc",d).then((function(e){a(e.data),i(!1)})).catch((function(e){i(!1),console.log(e)}))};return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"container",children:[o?Object(k.jsx)(te,{count:3}):Object(k.jsx)("div",{className:"row",children:c.map((function(e){return Object(k.jsxs)("div",{className:"col-md-4 mb-4",children:[e&&e.ratings&&e.ratings.length>0?Z(e):Object(k.jsx)("div",{className:"text-center pt-2 pb-3 ",children:" No rating yet"}),Object(k.jsx)(se,{product:e},e._id)]},e._id)}))}),Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("nav",{className:"col-md-4 offset-md-4 text-center pt-2 p-3",children:Object(k.jsx)(U.a,{onChange:function(e){console.log("pagination",e),h(e)},current:d,total:10*Math.ceil(p/3)})})})]})})},ie=function(){Object(x.c)((function(e){return Object(j.a)({},e)})).user;var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(b.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(1),u=Object(b.a)(l,2),d=u[0],h=u[1],O=Object(n.useState)(0),m=Object(b.a)(O,2),p=m[0],f=m[1];Object(n.useEffect)((function(){g()}),[d]),Object(n.useEffect)((function(){V().then((function(e){return f(e.data)}))}),[]);var g=function(){i(!0),q("createdAt","asc",d).then((function(e){a(e.data),i(!1)})).catch((function(e){i(!1),console.log(e)}))};return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"container",children:[o?Object(k.jsx)(te,{count:3}):Object(k.jsx)("div",{className:"row",children:c.map((function(e){return Object(k.jsxs)("div",{className:"col-md-4 mb-4",children:[e&&e.ratings&&e.ratings.length>0?Z(e):Object(k.jsx)("div",{className:"text-center pt-2 pb-3 ",children:" No rating yet"}),Object(k.jsx)(se,{product:e})]},e._id)}))}),Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("nav",{className:"col-md-4 offset-md-4 text-center pt-2 p-3",children:Object(k.jsx)(U.a,{onChange:function(e){console.log("pagination",e),h(e)},current:d,total:10*Math.ceil(p/3)})})})]})})},le=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:8000/api","/subs"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:8000/api","/sub/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("".concat("http://localhost:8000/api","/sub/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),be=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat("http://localhost:8000/api","/sub/").concat(t),c,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),de=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat("http://localhost:8000/api","/sub"),t,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),he=function(){var e=Object(n.useState)({}),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(b.a)(r,2),o=s[0],i=s[1];Object(n.useEffect)((function(){i(!1),le().then((function(e){console.log(e),a(e.data),i(!1)})).catch((function(e){console.log(e),i(!1)}))}),[]);return Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("div",{className:"row text-center",children:o?Object(k.jsx)("h4",{className:"text-danger",children:"Loading..."}):c&&c.length>0?c.map((function(e){return Object(k.jsx)("div",{className:"col btn-block m-3 btn btn-outlined-primary btn-lg btn-raised",children:Object(k.jsx)(g.b,{to:"/sub/".concat(e.slug),children:e.name})},e._id)})):"No Sub category"})})},Oe=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"jumbotron text-danger h1 font-weight-bold text-center",children:Object(k.jsx)(P,{text:["New Collection","Latest Products"]})}),Object(k.jsx)("h5",{className:"text-center p-3 mt-5 mb-5 display-4 \r jumbotron",children:" New Arrivals"}),Object(k.jsx)(ie,{}),Object(k.jsx)("h5",{className:"text-center p-3 mt-5 mb-5 display-4 \r jumbotron",children:" Best Sellers"}),Object(k.jsx)(oe,{}),Object(k.jsx)("h5",{className:"text-center p-3 mt-5 mb-5 display-4 \r jumbotron",children:" Categories"}),Object(k.jsx)(G,{}),Object(k.jsx)("h5",{className:"text-center p-3 mt-5 mb-5 display-4 \r jumbotron",children:" Sub Categories"}),Object(k.jsx)(he,{})]})},me=c(207),pe=c(216),fe=c(217),xe=c(218),ge=c(219),ve=c(220),Ne=c(159),ye=c(163),we=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return Object(j.a)({},e)})).search.text,c=Object(l.f)(),n=function(e){e.preventDefault(),c.push("/shop?".concat(t))};return Object(k.jsxs)("form",{className:"form-inline my-2 my-lg-0",onSubmit:n,children:[Object(k.jsx)("input",{onChange:function(t){e({type:"SEARCH_QUERY",payload:{text:t.target.value?t.target.value:""}})},type:"search",value:t,className:"form-control mr-sm-2",placeholder:"Search"}),Object(k.jsx)(ye.a,{onClick:n,style:{cursor:"pointer"}})]})},Se=me.a.SubMenu,ke=me.a.Item,Ce=function(){var e=Object(n.useState)("home"),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(x.b)(),s=Object(x.c)((function(e){return Object(j.a)({},e)})).user,o=Object(l.f)();return Object(k.jsxs)(me.a,{onClick:function(e){a(e.key)},selectedKeys:[c],mode:"horizontal",children:[Object(k.jsx)(ke,{icon:Object(k.jsx)(pe.a,{}),children:Object(k.jsx)(g.b,{to:"/",children:"Home"})},"home"),Object(k.jsx)(ke,{icon:Object(k.jsx)(ne.a,{}),children:Object(k.jsx)(g.b,{to:"/shop",children:"Shop"})},"shop"),!s&&Object(k.jsx)(ke,{icon:Object(k.jsx)(fe.a,{}),className:"float-right",children:Object(k.jsx)(g.b,{to:"/register",children:"Register"})},"register"),!s&&Object(k.jsx)(ke,{icon:Object(k.jsx)(xe.a,{}),className:"float-right",children:Object(k.jsx)(g.b,{to:"/login",children:"Login"})},"login"),s&&Object(k.jsxs)(Se,{icon:Object(k.jsx)(ge.a,{}),title:s.email&&s.email.split("@")[0],className:"float-right",children:[s&&"subscriber"===s.role&&Object(k.jsx)(ke,{children:Object(k.jsx)(g.b,{to:"/user/history",children:" DashBoard"})},"user"),s&&"admin"===s.role&&Object(k.jsx)(ke,{children:Object(k.jsx)(g.b,{to:"/admin/dashboard",children:" DashBoard"})},"admin"),Object(k.jsx)(ke,{icon:Object(k.jsx)(ve.a,{}),onClick:function(){Ne.a.auth().signOut(),r({type:"LOGOUT",payload:null}),o.push("/login")},children:"Logout"},"logout")]}),Object(k.jsx)("div",{className:"float-right p-1",children:Object(k.jsx)(we,{})},"search")]})},Ee=function(e){var t=e.history,c=Object(n.useState)(""),a=Object(b.a)(c,2),r=a[0],s=a[1],l=Object(n.useState)(""),j=Object(b.a)(l,2),d=j[0],O=j[1],m=Object(x.b)();Object(n.useEffect)((function(){s(window.localStorage.getItem("emailForRegistration"))}),[]);var p=function(){var e=Object(i.a)(o.a.mark((function e(c){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),r&&d){e.next=4;break}return u.b.error("Email and password is required"),e.abrupt("return");case 4:if(!(d.length<6)){e.next=7;break}return u.b.error("Password must be at least 6 characters long"),e.abrupt("return");case 7:return e.prev=7,e.next=10,h.signInWithEmailLink(r,window.location.href);case 10:if(!e.sent.user.emailVerified){e.next=22;break}return window.localStorage.removeItem("emailForRegistration"),n=h.currentUser,e.next=16,n.updatePassword(d);case 16:return e.next=18,n.getIdTokenResult();case 18:a=e.sent,console.log("user",n,"idTokenResult",a),y(a.token).then((function(e){m({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:a.token,role:e.data.role,_id:e.data._id}})})).catch((function(e){return console.log(e)})),t.push("/");case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(7),console.log(e.t0),u.b.error(e.t0.message);case 28:case"end":return e.stop()}}),e,null,[[7,24]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"container p-5",children:Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(k.jsx)("h4",{children:"Register Complete"}),Object(k.jsxs)("form",{onSubmit:p,children:[Object(k.jsx)("input",{type:"email",className:"form-control",value:r,disabled:!0}),Object(k.jsx)("input",{type:"password",className:"form-control",value:d,onChange:function(e){return O(e.target.value)},placeholder:"Password",autoFocus:!0}),Object(k.jsx)("br",{}),Object(k.jsx)("button",{type:"submit",className:"btn btn-raised",children:"Complete Registration"})]})]})})})},_e=function(e){var t=e.history,c=Object(n.useState)("ridwananik57@gmail.com"),a=Object(b.a)(c,2),r=a[0],s=a[1],l=Object(x.c)((function(e){return Object(j.a)({},e)})).user;Object(n.useEffect)((function(){l&&l.token&&t.push("/")}),[l]);var d=Object(n.useState)(!1),O=Object(b.a)(d,2),m=O[0],p=O[1],f=function(){var e=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),t.preventDefault(),c={url:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API:"http://localhost:8000/api",REACT_APP_FORGOT_PASSWORD_REDIRECT:"http://localhost:3000/login",REACT_APP_REGISTER_REDIRECT_URL:"http://localhost:3000/register/complete"}).REACT_APP_FORGOT_PASSWORD_REDIRECT_URL,handleCodeInApp:!0},e.next=5,h.sendPasswordResetEmail(r,c).then((function(){p(!1),s(""),u.b.success("Email Sent")})).catch((function(e){p(!1),console.log("error:",e),u.b.error(e.message)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"container p-5",children:Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col-md-6 offset-md-3",children:[m?Object(k.jsx)("h4",{className:"text-danger",children:"Loading... "}):Object(k.jsx)("h4",{children:"Forgot Password"}),Object(k.jsxs)("form",{onSubmit:f,children:[Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("input",{type:"email",className:"form-control",value:r,onChange:function(e){return s(e.target.value)},placeholder:"Enter your email",autoFocus:!0})}),Object(k.jsx)("button",{disabled:!r||m,type:"submit",className:"btn btn-raised",children:"Confirm Email"})]})]})})})},Re=function(){return Object(k.jsx)("nav",{children:Object(k.jsxs)("ul",{className:"nav flex-column",children:[Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(g.b,{to:"/user/history",className:"nav-link",children:"History"})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(g.b,{to:"/user/password",className:"nav-link",children:"Password"})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(g.b,{to:"/user/wishlist",className:"nav-link",children:"Wishlist"})})]})})},Pe=function(){return Object(k.jsx)("div",{className:"container-fluid",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-md-2",children:Object(k.jsx)(Re,{})}),Object(k.jsx)("div",{className:"col",children:"user history page"})]})})},Ae=c(114),De=function(){var e=Object(n.useState)(5),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(l.f)();return Object(n.useEffect)((function(){var e=setInterval((function(){a((function(e){return--e}))}),1e3);return 0===c&&r.push("/"),function(){return clearInterval(e)}}),[c,r]),Object(k.jsx)("div",{className:"container p-5 text-center",children:Object(k.jsxs)("p",{children:["Redirecting you in ",c," seconds"]})})},Le=function(e){e.children;var t=Object(Ae.a)(e,["children"]),c=Object(x.c)((function(e){return Object(j.a)({},e)})).user;return c&&c.token?Object(k.jsx)(l.a,Object(j.a)({},t)):Object(k.jsx)(De,{})},Ie=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(b.a)(r,2),l=s[0],j=s[1],d=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(!0),e.next=4,h.currentUser.updatePassword(c).then((function(){j(!1),a(""),u.b.success("Password updated")})).catch((function(e){j(!1),u.b.error(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"container-fluid",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-md-2",children:Object(k.jsx)(Re,{})}),Object(k.jsxs)("div",{className:"col",children:[l?Object(k.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(k.jsx)("h4",{children:"Password Update"}),Object(k.jsx)("form",{onSubmit:d,children:Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Your Password"}),Object(k.jsx)("input",{type:"password",onChange:function(e){return a(e.target.value)},className:"form-control",placeholder:"Enter new password",disabled:l,value:c}),Object(k.jsx)("button",{className:"btn btn-primary",disabled:!c||c.length<6||l,children:"Submit"})]})})]})]})})},Te=function(){return Object(k.jsx)("div",{className:"container-fluid",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-md-2",children:Object(k.jsx)(Re,{})}),Object(k.jsx)("div",{className:"col",children:"user wishlist page"})]})})},Fe=function(e){e.children;var t=Object(Ae.a)(e,["children"]),c=Object(x.c)((function(e){return Object(j.a)({},e)})).user,a=Object(n.useState)(!1),r=Object(b.a)(a,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){c&&c.token&&S(c.token).then((function(e){o(!0),console.log("CURRENT ADMIN RES",e)})).catch((function(e){o(!1),console.log("CURRENT ADMIN ERR",e)}))}),[c]),s?Object(k.jsx)(l.a,Object(j.a)({},t)):Object(k.jsx)(De,{})},Ge=c(221),Ue=c(222),Be=$.a.Meta,Ye=function(e){var t=e.product,c=e.handleRemove,n=t.title,a=t.description,r=t.images,s=t.slug;return Object(k.jsx)($.a,{cover:Object(k.jsx)("img",{alt:r&&r.length?r[0].public_id:"",src:r&&r.length?r[0].url:ae,style:{height:"150px",objectFit:"cover"},className:"p-1"}),actions:[Object(k.jsx)(g.b,{to:"/admin/product/".concat(s),children:Object(k.jsx)(Ge.a,{className:"text-warning"})}),Object(k.jsx)(Ue.a,{className:"text-danger",onClick:function(e){return c(s)}})],children:Object(k.jsx)(Be,{title:n,description:"".concat(a&&a.substring(0,20),"...")})})},Me=function(){return Object(k.jsx)("nav",{children:Object(k.jsxs)("ul",{className:"nav flex-column",children:[Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(g.b,{to:"/admin/dashboard",className:"nav-link",children:"Dashboard"})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(g.b,{to:"/admin/product",className:"nav-link",children:"Product"})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(g.b,{to:"/admin/products",className:"nav-link",children:"Products"})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(g.b,{to:"/admin/category",className:"nav-link",children:"Category"})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(g.b,{to:"/admin/sub",className:"nav-link",children:"Sub Category"})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(g.b,{to:"/admin/coupon",className:"nav-link",children:"Coupon"})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(g.b,{to:"/user/password",className:"nav-link",children:"password"})})]})})},We=function(){return Object(k.jsx)("div",{className:"container-fluid",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-md-2",children:Object(k.jsx)(Me,{})}),Object(k.jsx)("div",{className:"col",children:"Admin Dashboard"})]})})},Ke=function(e){var t=e.handleSubmit,c=e.setName,n=e.name;return Object(k.jsx)("form",{onSubmit:t,children:Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Name"}),Object(k.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return c(e.target.value)},value:n,autoFocus:!0,required:!0}),Object(k.jsx)("br",{}),Object(k.jsx)("button",{className:"btn btn-outline-primary",children:"Save"})]})})},qe=function(e){var t=e.setKeyword,c=e.keyword;return Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("input",{type:"search",placeholder:"Filter",value:c,onChange:function(e){e.preventDefault(),t(e.target.value)},className:"form-control mb-4"})})},Ve=function(){var e=Object(x.c)((function(e){return Object(j.a)({},e)})).user,t=Object(n.useState)(""),c=Object(b.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(""),o=Object(b.a)(s,2),i=o[0],l=o[1],d=Object(n.useState)(!1),h=Object(b.a)(d,2),O=h[0],m=h[1],p=Object(n.useState)([]),f=Object(b.a)(p,2),v=f[0],N=f[1];Object(n.useEffect)((function(){w()}),[]);var y,w=function(){return A().then((function(e){return N(e.data)}))};return Object(k.jsx)("div",{className:"container-fluid",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-md-2",children:Object(k.jsx)(Me,{})}),Object(k.jsxs)("div",{className:"col",children:[O?Object(k.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(k.jsx)("h4",{children:"Create category"}),Object(k.jsx)(Ke,{handleSubmit:function(t){t.preventDefault(),m(!0),T({name:a},e.token).then((function(e){m(!1),r(""),u.b.success('"'.concat(e.data.name,'" is created')),w()})).catch((function(e){console.log(e),m(!1),e.response.status,u.b.error(e.response.data)}))},name:a,setName:r}),Object(k.jsx)(qe,{keyword:i,setKeyword:l}),v.filter((y=i,function(e){return e.name.toLowerCase().includes(y.toLowerCase())})).map((function(t,c){return Object(k.jsxs)("div",{className:"alert alert-secondary",children:[t.name," ",Object(k.jsx)("span",{className:"btn btn-sm float-right",children:Object(k.jsx)(Ue.a,{disabled:O,onClick:function(){return function(t){var c=window.confirm("Are you sure you want to delete ".concat(t," ?"));console.log(c),c&&(m(!0),L(t,e.token).then((function(e){console.log("res:",e),m(!1),u.b.success("".concat(e.data.name," Deleted")),w()})).catch((function(e){console.log("err:",e),m(!1),e.response.status,u.b.error(e.response.data)})))}(t.slug)},className:"text-danger"})})," ",Object(k.jsxs)(g.b,{to:"/admin/category/".concat(t.slug),children:[Object(k.jsxs)("span",{className:"btn btn-sm float-right",children:[" ",Object(k.jsx)(Ge.a,{className:"text-warning"})]})," "]})]},c)}))]})]})})},He=function(e){var t=e.history,c=e.match.params,a=Object(x.c)((function(e){return Object(j.a)({},e)})).user,r=Object(n.useState)(!1),s=Object(b.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(""),d=Object(b.a)(l,2),h=d[0],O=d[1];Object(n.useEffect)((function(){D(c.slug).then((function(e){O(e.data.name),console.log(e)})).catch((function(e){return console.log(e)}))}),[c]);return Object(k.jsx)("div",{className:"container-fluid",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-md-2",children:Object(k.jsx)(Me,{})}),Object(k.jsxs)("div",{className:"col",children:[o?Object(k.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(k.jsx)("h4",{children:"Create category"}),Object(k.jsx)(Ke,{handleSubmit:function(e){e.preventDefault(),i(!0),I(c.slug,{name:h},a.token).then((function(e){i(!1),u.b.success('"'.concat(e.data.name,'" is updated')),O(""),t.push("/admin/category")})).catch((function(e){console.log(e),i(!1),e.response.status,u.b.error(e.response.data)}))},name:h,setName:O}),Object(k.jsx)("hr",{})]})]})})},ze=function(){var e=Object(x.c)((function(e){return Object(j.a)({},e)})).user,t=Object(n.useState)(""),c=Object(b.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(""),o=Object(b.a)(s,2),i=o[0],l=o[1],d=Object(n.useState)(!1),h=Object(b.a)(d,2),O=h[0],m=h[1],p=Object(n.useState)([]),f=Object(b.a)(p,2),v=f[0],N=f[1],y=Object(n.useState)([]),w=Object(b.a)(y,2),S=w[0],C=w[1],E=Object(n.useState)([]),_=Object(b.a)(E,2),R=_[0],P=_[1];Object(n.useEffect)((function(){L(),I()}),[]);var D,L=function(){return A().then((function(e){return N(e.data)}))},I=function(){return le().then((function(e){return C(e.data)}))};return Object(k.jsx)("div",{className:"container-fluid",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-md-2",children:Object(k.jsx)(Me,{})}),Object(k.jsxs)("div",{className:"col",children:[O?Object(k.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(k.jsx)("h4",{children:"Create sub category"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Parent Category"}),Object(k.jsxs)("select",{name:"category",className:"form-control",onChange:function(e){return P(e.target.value)},children:[Object(k.jsx)("option",{children:"Please Select"}),v.length>0&&v.map((function(e,t){return Object(k.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(k.jsx)(Ke,{handleSubmit:function(t){t.preventDefault(),m(!0),de({name:a,parent:R},e.token).then((function(e){m(!1),r(""),u.b.success('"'.concat(e.data.name,'" is created')),I()})).catch((function(e){console.log(e),m(!1),e.response.status,u.b.error(e.response.data)}))},name:a,setName:r}),Object(k.jsx)(qe,{keyword:i,setKeyword:l}),S.filter((D=i,function(e){return e.name.toLowerCase().includes(D.toLowerCase())})).map((function(t,c){return Object(k.jsxs)("div",{className:"alert alert-secondary",children:[t.name," ",Object(k.jsx)("span",{className:"btn btn-sm float-right",children:Object(k.jsx)(Ue.a,{disabled:O,onClick:function(){return function(t){var c=window.confirm("Are you sure you want to delete ".concat(t," ?"));console.log(c),c&&(m(!0),je(t,e.token).then((function(e){console.log("res:",e),m(!1),u.b.error("".concat(e.data.name," Deleted")),I()})).catch((function(e){console.log("err:",e),m(!1),e.response.status,u.b.error(e.response.data)})))}(t.slug)},className:"text-danger"})})," ",Object(k.jsxs)(g.b,{to:"/admin/sub/".concat(t.slug),children:[Object(k.jsxs)("span",{className:"btn btn-sm float-right",children:[" ",Object(k.jsx)(Ge.a,{className:"text-warning"})]})," "]})]},c)}))]})]})})},Je=function(e){var t=e.match,c=e.history,a=Object(x.c)((function(e){return Object(j.a)({},e)})).user,r=Object(n.useState)(""),s=Object(b.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(!1),d=Object(b.a)(l,2),h=d[0],O=d[1],m=Object(n.useState)([]),p=Object(b.a)(m,2),f=p[0],g=p[1],v=Object(n.useState)(""),N=Object(b.a)(v,2),y=N[0],w=N[1];Object(n.useEffect)((function(){S(),C()}),[]);var S=function(){return A().then((function(e){console.log(e.data),g(e.data)}))},C=function(){return ue(t.params.slug).then((function(e){i(e.data.name),console.log("s.data.name:",e.data.name),w(e.data.parent)})).catch((function(e){return console.log("load subs",e)}))};return Object(k.jsx)("div",{className:"container-fluid",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-md-2",children:Object(k.jsx)(Me,{})}),Object(k.jsxs)("div",{className:"col",children:[h?Object(k.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(k.jsx)("h4",{children:"Update sub category"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Parent category"}),Object(k.jsxs)("select",{name:"category",className:"form-control",onChange:function(e){return w(e.target.value)},children:[Object(k.jsx)("option",{children:"Please select"}),f.length>0&&f.map((function(e){return Object(k.jsx)("option",{value:e._id,selected:e._id===y,children:e.name},e._id)}))]})]}),Object(k.jsx)(Ke,{handleSubmit:function(e){e.preventDefault(),O(!0),be(t.params.slug,{name:o,parent:y},a.token).then((function(e){O(!1),i(""),u.b.success('"'.concat(e.data.name,'" is updated')),c.push("/admin/sub")})).catch((function(e){console.log(e),O(!1),400===e.response.status&&u.b.error(e.response.data)}))},name:o,setName:i})]})]})})},Qe=c(66),Xe=c(90),Ze=Xe.a.Option,$e=function(e){var t=e.setValues,c=e.handleSubmit,n=e.handleChange,a=e.values,r=e.handleCategoryChange,s=e.subOptions,o=a.title,i=a.description,l=a.price,u=a.categories,b=(a.category,a.subs),d=(a.shipping,a.quantity),h=(a.images,a.colors),O=a.brands;a.color,a.brand;return Object(k.jsxs)("form",{onSubmit:c,children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Title"}),Object(k.jsx)("input",{type:"text",name:"title",className:"form-control",value:o,onChange:n})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Description"}),Object(k.jsx)("input",{type:"text",name:"description",className:"form-control",value:i,onChange:n})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Price"}),Object(k.jsx)("input",{type:"number",name:"price",className:"form-control",value:l,onChange:n})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Shipping"}),Object(k.jsxs)("select",{name:"shipping",className:"form-control",onChange:n,children:[Object(k.jsx)("option",{children:"Please select"}),Object(k.jsx)("option",{value:"No",children:"No"}),Object(k.jsx)("option",{value:"Yes",children:"Yes"})]})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Quantity"}),Object(k.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:d,onChange:n})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Color"}),Object(k.jsxs)("select",{name:"color",className:"form-control",onChange:n,children:[Object(k.jsx)("option",{children:"Please select"}),h.map((function(e,t){return Object(k.jsx)("option",{value:e,children:e},t)}))]})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Brand"}),Object(k.jsxs)("select",{name:"brand",className:"form-control",onChange:n,children:[Object(k.jsx)("option",{children:"Please select"}),O.map((function(e,t){return Object(k.jsx)("option",{value:e,children:e},t)}))]})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Category"}),Object(k.jsxs)("select",{name:"category",className:"form-control",onChange:r,children:[Object(k.jsx)("option",{children:"Please Select"}),u.length>0&&u.map((function(e,t){return Object(k.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),s.length>0&&Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{children:"Sub Category"}),Object(k.jsx)(Xe.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",defaultValue:["a10","c12"],onChange:function(e){return t(Object(j.a)(Object(j.a)({},a),{},{subs:e}))},name:"subs",value:b,children:s.map((function(e,t){return Object(k.jsx)(Ze,{value:e._id,children:e.name},e._id)}))})]}),Object(k.jsx)("button",{className:"btn btn-outline-info",children:"Save"})]})},et=c(152),tt=c.n(et),ct=c(211),nt=c(210),at=function(e){return new Promise((function(t){tt.a.imageFileResizer(e,720,720,"JPEG",100,0,(function(e){t(e)}),"base64")}))},rt=function(e){var t=e.values,c=e.setValues,n=e.setLoading,a=Object(x.c)((function(e){return Object(j.a)({},e)})).user;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"row",children:t.images&&t.images.map((function(e,r){return Object(k.jsx)(ct.a,{count:"X",style:{cursor:"pointer"},onClick:function(){return r=e.public_id,console.log("id:",r),n(!0),void N.a.post("".concat("http://localhost:8000/api","/removeimage"),{public_id:r},{headers:{authtoken:a.token}}).then((function(e){console.log("IMAGE UPLOAD RES DATA",e);var a=t.images.filter((function(e){return e.public_id!==r}));c(Object(j.a)(Object(j.a)({},t),{},{images:a})),n(!1)})).catch((function(e){n(!1),console.log(e)}));var r},children:Object(k.jsx)(nt.a,{src:e.url,size:100,shape:"square",className:"m-3",children:"Product Image"})},r)}))}),Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("label",{className:"btn btn-primary btn-raised mb-4",children:["Choose File",Object(k.jsx)("input",{type:"file",hidden:!0,multiple:!0,accept:"images/*",onChange:function(e){var r=e.target.files;console.log("e.target.files:",e.target.files);var s=t?t.images:[];if(r.length>0){n(!0);for(var o=0;o<r.length;o++)at(r[o]).then((function(e){console.log(e),N.a.post("".concat("http://localhost:8000/api","/uploadimages"),{image:e},{headers:{authtoken:a?a.token:""}}).then((function(e){console.log("IMAGE UPLOAD RES DATA",e),u.b.success("Uploaded"),n(!1),s.push(e.data)})).catch((function(e){console.log("IMAGE POST FAILED",e)}))})).catch((function(e){console.log("IMAGE RESIZE FAILED",e)}));c(Object(j.a)(Object(j.a)({},t),{},{images:s}))}}})]})})]})},st=c(74),ot={title:"Nokia x7",description:"Best Phone",price:"25500",categories:[],category:"",subs:[],shipping:"Yes",quantity:"50",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","Lenovo","ASUS"],color:"Black",brand:"Nokia"},it=function(){var e=Object(n.useState)(ot),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(x.c)((function(e){return Object(j.a)({},e)})).user,s=Object(n.useState)([]),o=Object(b.a)(s,2),i=o[0],l=o[1],d=Object(n.useState)(!1),h=Object(b.a)(d,2),O=h[0],m=h[1],p=Object(n.useState)("1"),f=Object(b.a)(p,2),g=f[0],v=f[1];Object(n.useEffect)((function(){console.log("use effect product create"),N()}),[]);var N=function(){return A().then((function(e){return a(Object(j.a)(Object(j.a)({},c),{},{categories:e.data}))})).catch((function(e){return console.log(e)}))};return Object(k.jsx)("div",{className:"container-fluid",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-md-2",children:Object(k.jsx)(Me,{})}),Object(k.jsxs)("div",{className:"col-md-10",children:[O?Object(k.jsx)(st.a,{className:"text-danger h1"}):Object(k.jsx)("h4",{children:"Product create"}),Object(k.jsx)("hr",{}),Object(k.jsx)("div",{className:"p-3",children:Object(k.jsx)(rt,{setKey:v,values:c,setValues:a,setLoading:m},g)}),Object(k.jsx)($e,{handleSubmit:function(e){e.preventDefault(),B(c,r.token).then((function(e){window.alert('"'.concat(e.data.title,'" is created')),window.location.reload(),a(ot)})).catch((function(e){console.log(e),u.b.error(e.response.data.err)}))},handleChange:function(e){a((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(Qe.a)({},e.target.name,e.target.value))}))},values:c,handleCategoryChange:function(e){e.preventDefault(),console.log("handleCategoryChange",e.target.value),a((function(t){var c;return Object(j.a)(Object(j.a)({},t),{},(c={},Object(Qe.a)(c,e.target.name,e.target.value),Object(Qe.a)(c,"subs",[]),c))})),F(e.target.value).then((function(e){console.log(e.data),l(e.data)})).catch((function(e){console.log(e)}))},subOptions:i,setValues:a})]})]})})},lt=function(){var e=Object(x.c)((function(e){return Object(j.a)({},e)})).user,t=Object(n.useState)([]),c=Object(b.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),o=Object(b.a)(s,2),i=o[0],l=o[1];Object(n.useEffect)((function(){h()}),[]);var d=function(t){var c=window.confirm("Are you sure you want to delete ?");console.log(c),c&&(l(!0),M(t,e.token).then((function(e){console.log("res:",e),l(!1),u.b.success("".concat(e.data.title," Deleted")),h()})).catch((function(e){console.log("err:",e),l(!1),u.b.error(e.response.data)})))},h=function(){l(!0),Y(100).then((function(e){r(e.data),l(!1)})).catch((function(e){l(!1),console.log(e)}))};return Object(k.jsx)("div",{className:"container-fluid",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-md-2",children:Object(k.jsx)(Me,{})}),Object(k.jsxs)("div",{className:"col",children:[i?Object(k.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(k.jsx)("h4",{children:"All Products"}),Object(k.jsx)("div",{className:"row",children:a.map((function(e){return Object(k.jsx)("div",{className:"col-md-4 mb-4",children:Object(k.jsx)(Ye,{product:e,handleRemove:d})},e._id)}))})]})]})})},ut=Xe.a.Option,jt=function(e){var t=e.handleSubmit,c=e.handleChange,n=(e.setValues,e.values),a=e.handleCategoryChange,r=e.categories,s=e.subOptions,o=e.arrayOfSubs,i=e.setArrayOfSubs,l=e.selectedCategory,u=n.title,j=n.description,b=n.price,d=n.category,h=(n.subs,n.shipping),O=n.quantity,m=(n.images,n.colors),p=n.brands,f=n.color,x=n.brand;return Object(k.jsxs)("form",{onSubmit:t,children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Title"}),Object(k.jsx)("input",{type:"text",name:"title",className:"form-control",value:u,onChange:c})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Description"}),Object(k.jsx)("input",{type:"text",name:"description",className:"form-control",value:j,onChange:c})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Price"}),Object(k.jsx)("input",{type:"number",name:"price",className:"form-control",value:b,onChange:c})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Shipping"}),Object(k.jsxs)("select",{value:"Yes"===h?"Yes":"No",name:"shipping",className:"form-control",onChange:c,children:[Object(k.jsx)("option",{value:"No",children:"No"}),Object(k.jsx)("option",{value:"Yes",children:"Yes"})]})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Quantity"}),Object(k.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:O,onChange:c})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Color"}),Object(k.jsx)("select",{value:f,name:"color",className:"form-control",onChange:c,children:m.map((function(e,t){return Object(k.jsx)("option",{value:e,children:e},t)}))})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Brand"}),Object(k.jsx)("select",{value:x,name:"brand",className:"form-control",onChange:c,children:p.map((function(e,t){return Object(k.jsx)("option",{value:e,children:e},t)}))})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Category"}),Object(k.jsx)("select",{name:"category",className:"form-control",onChange:a,value:l||d._id,children:r.length>0&&r.map((function(e){return Object(k.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{children:"Sub Categories"}),Object(k.jsx)(Xe.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",value:o,onChange:function(e){return i(e)},children:s.length&&s.map((function(e){return Object(k.jsx)(ut,{value:e._id,children:e.name},e._id)}))})]}),Object(k.jsx)("br",{}),Object(k.jsx)("button",{className:"btn btn-outline-info",children:"Save"})]})},bt={title:"",description:"",price:"",category:"",subs:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","Lenovo","ASUS"],color:"",brand:""},dt=function(e){var t=e.match,c=e.history,a=Object(n.useState)(bt),r=Object(b.a)(a,2),s=r[0],o=r[1],i=Object(n.useState)([]),l=Object(b.a)(i,2),d=l[0],h=l[1],O=Object(n.useState)([]),m=Object(b.a)(O,2),p=m[0],f=m[1],g=Object(n.useState)([]),v=Object(b.a)(g,2),N=v[0],y=v[1],w=Object(n.useState)(""),S=Object(b.a)(w,2),C=S[0],E=S[1],_=Object(n.useState)(!1),R=Object(b.a)(_,2),P=R[0],D=R[1],L=Object(x.c)((function(e){return Object(j.a)({},e)})).user,I=t.params.slug;Object(n.useEffect)((function(){T(),G()}),[]);var T=function(){W(I).then((function(e){o(Object(j.a)(Object(j.a)({},s),e.data)),F(e.data.category._id).then((function(e){f(e.data)}));var t=[];e.data.subs.map((function(e){t.push(e._id)})),console.log("ARR",t),y((function(e){return t}))}))},G=function(){return A().then((function(e){console.log("GET CATEGORIES IN UPDATE PRODUCT",e.data),h(e.data)}))};return Object(k.jsx)("div",{className:"container-fluid",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-md-2",children:Object(k.jsx)(Me,{})}),Object(k.jsxs)("div",{className:"col-md-10",children:[P?Object(k.jsx)(st.a,{className:"text-danger h1"}):Object(k.jsx)("h4",{children:"Product update"}),Object(k.jsx)("div",{className:"p-3",children:Object(k.jsx)(rt,{values:s,setValues:o,setLoading:D})}),Object(k.jsx)(jt,{handleSubmit:function(e){e.preventDefault(),D(!0),s.subs=N,s.category=C||s.category,K(I,s,L.token).then((function(e){D(!1),u.b.success('"'.concat(e.data.title,'" is updated')),c.push("/admin/products")})).catch((function(e){console.log(e),D(!1),u.b.error(e.response.data.err)}))},handleChange:function(e){o(Object(j.a)(Object(j.a)({},s),{},Object(Qe.a)({},e.target.name,e.target.value)))},setValues:o,values:s,handleCategoryChange:function(e){e.preventDefault(),console.log("CLICKED CATEGORY",e.target.value),o(Object(j.a)(Object(j.a)({},s),{},{subs:[]})),E(e.target.value),F(e.target.value).then((function(e){console.log("SUB OPTIONS ON CATEGORY CLICK",e),f(e.data)})),console.log("EXISTING CATEGORY values.category",s.category),s.category._id===e.target.value&&T(),y([])},categories:d,subOptions:p,arrayOfSubs:N,setArrayOfSubs:y,selectedCategory:C}),Object(k.jsx)("hr",{})]})]})})},ht=c(127),Ot=c(224),mt=c(153),pt=(c(201),function(e){var t=e.product,c=t.price,n=t.category,a=t.subs,r=t.shipping,s=t.color,o=t.brand,i=t.quantity,l=t.sold;return Object(k.jsxs)("ul",{className:"list-group",children:[Object(k.jsxs)("li",{className:"list-group-item",children:["Price"," ",Object(k.jsxs)("span",{className:"label label-default label-pill pull-xs-right",children:["$ ",c]})]}),n&&Object(k.jsxs)("li",{className:"list-group-item",children:["Category"," ",Object(k.jsx)(g.b,{to:"/category/".concat(n.slug),className:"label label-default label-pill pull-xs-right",children:n.name})]}),a&&Object(k.jsxs)("li",{className:"list-group-item",children:["Sub Categories",a.map((function(e){return Object(k.jsx)(g.b,{to:"/sub/".concat(e.slug),className:"label label-default label-pill pull-xs-right",children:e.name},e._id)}))]}),Object(k.jsxs)("li",{className:"list-group-item",children:["Shipping"," ",Object(k.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:r})]}),Object(k.jsxs)("li",{className:"list-group-item",children:["Color"," ",Object(k.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:s})]}),Object(k.jsxs)("li",{className:"list-group-item",children:["Brand"," ",Object(k.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:o})]}),Object(k.jsxs)("li",{className:"list-group-item",children:["Available"," ",Object(k.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:i})]}),Object(k.jsxs)("li",{className:"list-group-item",children:["Sold"," ",Object(k.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:l})]})]})}),ft=c(154),xt=c.n(ft),gt=c(209),vt=c(223),Nt=function(e){var t=e.children,c=e.onOkClick,a=Object(x.c)((function(e){return Object(j.a)({},e)})).user,r=Object(n.useState)(!1),s=Object(b.a)(r,2),o=s[0],i=s[1],d=Object(l.f)(),h=Object(l.g)().slug;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{onClick:function(){a&&a.token?i(!0):d.push({pathname:"/login",state:{from:"/product/".concat(h)}})},children:[Object(k.jsx)(vt.a,{className:"text-danger"})," ",Object(k.jsx)("br",{})," ",a?"Leave rating":"Login to leave rating"]}),Object(k.jsx)(gt.a,{title:"Leave your rating",centered:!0,visible:o,onOk:function(){i(!1),u.b.success("Thanks for your review. It will apper soon"),c()},onCancel:function(){return i(!1)},children:t})]})},yt=($.a.Meta,ht.a.TabPane),wt=function(e){var t=e.product,c=e.onStarClick,n=e.rating,a=e.onOkClick,r=t.title,s=t.images,o=t.description;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"col-md-7",children:[s&&s.length?Object(k.jsx)(mt.Carousel,{showArrows:!0,autoPlay:!0,infiniteLoop:!0,children:s&&s.map((function(e){return Object(k.jsx)("img",{alt:e.public_id,src:e.url})}))}):Object(k.jsx)($.a,{cover:Object(k.jsx)("img",{src:ae,className:"mb-3 card-image"})}),Object(k.jsxs)(ht.a,{type:"card",defaultActiveKey:"1",children:[Object(k.jsx)(yt,{tab:"Description",children:o||"No description for this product"},"1"),Object(k.jsx)(yt,{tab:"More",children:"Tab 2"},"2")]})]}),Object(k.jsxs)("div",{className:"col-md-5 text-cente",children:[Object(k.jsxs)("h1",{className:"bg-info p-3",children:[" ",r]}),"rating",t&&t.ratings&&t.ratings.length>0?Z(t):Object(k.jsx)("div",{className:"text-center pt-2 pb-3 ",children:" No rating yet"}),Object(k.jsx)($.a,{actions:[Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ne.a,{className:"text-success"})," ",Object(k.jsx)("br",{}),"Add to Cart"]}),Object(k.jsxs)(g.b,{to:"/",children:[Object(k.jsx)(Ot.a,{className:"text-info"})," ",Object(k.jsx)("br",{})," Add to Wishlist"]}),Object(k.jsxs)(g.b,{children:[" ",Object(k.jsx)(Nt,{onOkClick:a,children:Object(k.jsx)(xt.a,{count:5,onChange:c,size:54,value:n,color2:"#660000",half:!1})})]})],children:Object(k.jsx)(pt,{product:t})})]})]})},St=function(e){var t=e.match.params,c=Object(n.useState)({}),a=Object(b.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)({}),i=Object(b.a)(o,2),l=i[0],d=i[1],h=Object(n.useState)(),O=Object(b.a)(h,2),m=O[0],p=O[1],f=Object(n.useState)(!1),g=Object(b.a)(f,2),v=(g[0],g[1],Object(x.c)((function(e){return Object(j.a)({},e)})).user);Object(n.useEffect)((function(){console.log("back"),N()}),[v,t.slug]);var N=function(){W(t.slug).then((function(e){if(s(e.data),console.log("user_id",v?v._id:""),console.log("ratings",r.ratings),r.ratings&&v){var t=r.ratings.find((function(e){return e.postedBy.toString()===v._id.toString()}));t&&p((function(){return t.star}))}console.log("Rating mounted: ",m),z(r._id).then((function(e){console.log("related",e.data),d(e.data)})).catch((function(e){console.log(e)}))}))};return Object(k.jsxs)("div",{className:"container-fluid",children:[Object(k.jsx)("div",{className:"row pt-4 h-75",children:Object(k.jsx)(wt,{product:r,onOkClick:function(){H(r._id,m,v.token).then((function(e){console.log(e.data),u.b.success("Rating updated: ".concat(e.data))})).catch((function(e){console.log(e)}))},onStarClick:function(e){console.log("rating:",e),p((function(){return e}))},rating:m})}),Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col text-center pt-5 pb-5",children:[Object(k.jsx)("hr",{}),Object(k.jsx)("h4",{children:"Related Product "}),Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("div",{className:"row",children:l&&l.length>0?l.map((function(e){return Object(k.jsxs)("div",{className:"col-md-4 mb-4",children:[e&&e.ratings&&e.ratings.length>0?Z(e):Object(k.jsx)("div",{className:"text-center pt-2 pb-3 ",children:" No rating yet"}),Object(k.jsx)(se,{product:e},e._id)]},e._id)})):"No Related Product"})}),Object(k.jsx)("hr",{})]})})]})},kt=function(e){var t=e.match,c=Object(n.useState)({}),a=Object(b.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)([]),i=Object(b.a)(o,2),l=i[0],u=i[1],j=Object(n.useState)(!1),d=Object(b.a)(j,2),h=d[0],O=d[1],m=t.params.slug;return Object(n.useEffect)((function(){O(!0),D(m).then((function(e){console.log(JSON.stringify(e.data,null,4)),s(e.data.category),u(e.data.products),O(!1)}))}),[]),Object(k.jsxs)("div",{className:"container-fluid",children:[Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col",children:h?Object(k.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Loading..."}):Object(k.jsxs)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:[l.length,' Products in "',r.name,'" category']})})}),Object(k.jsx)("div",{className:"row",children:l.map((function(e){return Object(k.jsx)("div",{className:"col-md-4",children:Object(k.jsx)(se,{product:e})},e._id)}))})]})},Ct=function(e){var t=e.match,c=Object(n.useState)({}),a=Object(b.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)([]),i=Object(b.a)(o,2),l=i[0],u=i[1],j=Object(n.useState)(!1),d=Object(b.a)(j,2),h=d[0],O=d[1],m=t.params.slug;return Object(n.useEffect)((function(){O(!0),ue(m).then((function(e){console.log(JSON.stringify(e.data,null,4)),s(e.data.sub),u(e.data.products),O(!1)})).catch((function(e){O(!1),console.log(e)}))}),[]),Object(k.jsxs)("div",{className:"container-fluid",children:[Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col",children:h?Object(k.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Loading..."}):Object(k.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:l.length>0?Object(k.jsxs)(k.Fragment,{children:[l.length," Products in ",r.name," Sub category "]}):Object(k.jsx)(k.Fragment,{children:"No Product  in this Sub category"})})})}),Object(k.jsx)("div",{className:"row",children:l.map((function(e){return Object(k.jsx)("div",{className:"col-md-4",children:Object(k.jsx)(se,{product:e})},e._id)}))})]})},Et=function(){var e=Object(x.c)((function(e){return Object(j.a)({},e)})).search,t=Object(n.useState)([]),c=Object(b.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),o=Object(b.a)(s,2),i=o[0],l=o[1],u=e.text;Object(n.useEffect)((function(){h()}),[]),Object(n.useEffect)((function(){var e=setTimeout((function(){d(u)}),400);return function(){return clearTimeout(e)}}),[u]);var d=function(e){J({query:e}).then((function(e){r(e.data),l(!1)})).catch((function(e){l(!1),console.log(e)}))},h=function(){l(!0),Y(20).then((function(e){r(e.data),l(!1)})).catch((function(e){l(!1),console.log(e)}))};return Object(k.jsx)("div",{className:"container-fluid",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-md-3",children:Object(k.jsx)("h4",{children:"Filters"})}),Object(k.jsx)("div",{className:"col-md-9",children:Object(k.jsx)("div",{className:"row",children:i?Object(k.jsx)(te,{count:12}):a.map((function(e){return Object(k.jsxs)("div",{className:"col-md-4 mb-4",children:[e&&e.ratings&&e.ratings.length>0?Z(e):Object(k.jsx)("div",{className:"text-center pt-2 pb-3 ",children:" No rating yet"}),Object(k.jsx)(se,{product:e})]},e._id)}))})})]})})},_t=function(){var e=Object(x.b)();return Object(n.useEffect)((function(){var t=h.onAuthStateChanged(function(){var t=Object(i.a)(o.a.mark((function t(c){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=6;break}return t.next=3,c.getIdTokenResult();case 3:n=t.sent,console.log("user",c),w(n.token).then((function(t){e({type:"LOGGED_IN_USER",payload:{name:t.data.name,email:t.data.email,token:n.token,role:t.data.role,_id:t.data._id}})})).catch((function(e){return console.log(e)}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return t()}}),[e]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ce,{}),Object(k.jsx)(u.a,{}),Object(k.jsxs)(l.c,{children:[Object(k.jsx)(l.a,{exact:!0,path:"/",component:Oe}),Object(k.jsx)(l.a,{exact:!0,path:"/login",component:C}),Object(k.jsx)(l.a,{exact:!0,path:"/register",component:E}),Object(k.jsx)(l.a,{exact:!0,path:"/register/complete",component:Ee}),Object(k.jsx)(l.a,{exact:!0,path:"/forgot/password",component:_e}),Object(k.jsx)(Le,{exact:!0,path:"/user/history",component:Pe}),Object(k.jsx)(Le,{exact:!0,path:"/user/password",component:Ie}),Object(k.jsx)(Le,{exact:!0,path:"/user/wishlist",component:Te}),Object(k.jsx)(Fe,{exact:!0,path:"/admin/dashboard",component:We}),Object(k.jsx)(Fe,{exact:!0,path:"/admin/category",component:Ve}),Object(k.jsx)(Fe,{exact:!0,path:"/admin/category/:slug",component:He}),Object(k.jsx)(Fe,{exact:!0,path:"/admin/sub",component:ze}),Object(k.jsx)(Fe,{exact:!0,path:"/admin/sub/:slug",component:Je}),Object(k.jsx)(Fe,{exact:!0,path:"/admin/product",component:it}),Object(k.jsx)(Fe,{exact:!0,path:"/admin/products",component:lt}),Object(k.jsx)(Fe,{exact:!0,path:"/admin/product/:slug",component:dt}),Object(k.jsx)(l.a,{exact:!0,path:"/product/:slug",component:St}),Object(k.jsx)(l.a,{exact:!0,path:"/category/:slug",component:kt}),Object(k.jsx)(l.a,{exact:!0,path:"/sub/:slug",component:Ct}),Object(k.jsx)(l.a,{exact:!0,path:"/shop",component:Et})]})]})},Rt=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,225)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))},Pt=(c(202),c(71)),At=c(156),Dt=Object(Pt.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN_USER":case"LOGOUT":return t.payload;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_QUERY":return Object(j.a)(Object(j.a)({},e),t.payload);default:return e}}}),Lt=Object(Pt.createStore)(Dt,Object(At.composeWithDevTools)());r.a.render(Object(k.jsx)(x.a,{store:Lt,children:Object(k.jsx)(g.a,{children:Object(k.jsx)(_t,{})})}),document.getElementById("root")),Rt()}},[[203,1,2]]]);
//# sourceMappingURL=main.6ce08085.chunk.js.map