{"version":3,"sources":["firebase.js","functions/auth.js","pages/auth/Login.js","pages/auth/Register.js","pages/Home.js","components/nav/Header.js","pages/auth/RegisterComplete.js","pages/auth/ForgotPassword.js","components/nav/UserNav.js","pages/user/History.js","components/nav/routes/LoadingToRedirect.js","components/nav/routes/UserRoute.js","pages/user/Password.js","pages/user/Wishlist.js","components/nav/routes/AdminRoute.js","components/nav/AdminNav.js","pages/admin/AdminDashboard.js","functions/category.js","components/forms/CategoryForms.js","components/forms/LocalSearch.js","pages/admin/category/CategoryCreate.js","pages/admin/category/CategoryUpdate.js","functions/sub.js","pages/admin/sub/SubCreate.js","pages/admin/sub/SubUpdate.js","functions/product.js","components/forms/ProductCreateForm.js","components/forms/FileUpload.js","pages/admin/product/ProductCreate.js","App.js","reportWebVitals.js","reducers/index.js","reducers/userReducer.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","googleAuthProvider","GoogleAuthProvider","createOrUpdateUser","authtoken","a","axios","post","process","headers","currentUser","currentAdmin","Login","history","useState","email","setEmail","password","setPassword","loading","setLoading","user","useSelector","state","useEffect","token","push","dispatch","useDispatch","roleBasedRedirect","res","data","role","handleSubmit","e","preventDefault","signInWithEmailAndPassword","result","getIdTokenResult","idTokenResult","then","type","payload","name","_id","catch","err","console","log","toast","error","message","googleLogin","signInWithPopup","className","onSubmit","value","onChange","target","placeholder","autoFocus","onClick","block","shape","icon","MailOutlined","size","disabled","length","GoogleOutlined","to","Register","config","url","handleCodeInApp","sendSignInLinkToEmail","success","window","localStorage","setItem","Home","SubMenu","Menu","Item","Header","current","setCurrent","useHistory","key","selectedKeys","mode","AppstoreOutlined","UserAddOutlined","UserOutlined","SettingOutlined","title","split","LogoutOutlined","signOut","RegisterComplete","getItem","signInWithEmailLink","location","href","emailVerified","removeItem","updatePassword","ForgotPassword","REACT_APP_FORGOT_PASSWORD_REDIRECT_URL","sendPasswordResetEmail","UserNav","History","LoadingToRedirect","count","setCount","interval","setInterval","c","clearInterval","UserRoute","children","rest","Password","Wishlist","AdminRoute","ok","setOk","AdminNav","AdminDashboard","getCategories","get","getCategory","slug","removeCategory","delete","updateCategory","category","put","createCategory","getCategorySubs","CategoryForm","setName","required","LocalSearch","setKeyword","keyword","CategoryCreate","categories","setCategories","loadCategories","search","response","status","filter","toLowerCase","includes","map","id","DeleteOutlined","answer","confirm","handleRemove","EditOutlined","CategoryUpdate","params","match","getSubs","getSub","removeSub","updateSub","sub","createSub","SubCreate","subs","setSubs","setCategory","loadSubs","parent","SubUpdate","setParent","loadSub","s","selected","createProduct","product","Option","Select","ProductCreateForm","props","setValues","handleChange","values","handleCategoryChange","subOptions","description","price","quantity","shipping","colors","images","brands","color","brand","b","style","width","defaultValue","val","resizeFile","file","Promise","resolve","Resizer","imageFileResizer","uri","FileUpload","setKey","image","i","cursor","public_id","Math","random","filteredImages","src","hidden","multiple","accept","files","allUploadedFiles","initialState","ProductCreate","setSubOptions","LoadingOutlined","alert","reload","prev","App","unsubscribe","onAuthStateChanged","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.75fed9d0.chunk.js","sourcesContent":["import firebase from \"firebase/app\"\r\nimport \"firebase/auth\"\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBS7Gi4aU2rXZ2Tjy9XUYSaLgaW8HlqgnA\",\r\n    authDomain: \"e-commerce-mern-dbf46.firebaseapp.com\",\r\n    projectId: \"e-commerce-mern-dbf46\",\r\n    storageBucket: \"e-commerce-mern-dbf46.appspot.com\",\r\n    messagingSenderId: \"129077110402\",\r\n    appId: \"1:129077110402:web:3ba530ea06be501fccf69b\",\r\n    measurementId: \"G-R7KHNYMLJ4\"\r\n};\r\n\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// export\r\nexport const auth = firebase.auth();\r\nexport const googleAuthProvider = new firebase.auth.GoogleAuthProvider();","import axios from \"axios\";\r\n\r\nexport const createOrUpdateUser = async (authtoken) => {\r\n    return await axios.post(\r\n        `${process.env.REACT_APP_API}/create-or-update-user`,\r\n        {},\r\n        {\r\n            headers: {\r\n                authtoken,\r\n            },\r\n        }\r\n    );\r\n};\r\n\r\nexport const currentUser = async (authtoken) => {\r\n    return await axios.post(\r\n        `${process.env.REACT_APP_API}/current-user`,\r\n        {},\r\n        {\r\n            headers: {\r\n                authtoken,\r\n            },\r\n        }\r\n    );\r\n};\r\n\r\nexport const currentAdmin = async (authtoken) => {\r\n    return await axios.post(\r\n        `${process.env.REACT_APP_API}/current-admin`,\r\n        {},\r\n        {\r\n            headers: {\r\n                authtoken,\r\n            },\r\n        }\r\n    );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { auth, googleAuthProvider } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Button } from \"antd\";\r\nimport { MailOutlined, GoogleOutlined } from \"@ant-design/icons\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createOrUpdateUser } from \"../../functions/auth\";\r\n\r\nconst Login = ({ history }) => {\r\n    const [email, setEmail] = useState(\"ridwananik57@gmail.com\");\r\n    const [password, setPassword] = useState(\"1234567\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n\r\n    useEffect(() => {\r\n        if (user && user.token) history.push(\"/\");\r\n    }, [user, history]);\r\n\r\n    let dispatch = useDispatch();\r\n\r\n    const roleBasedRedirect = (res) => {\r\n        if (res.data.role === \"admin\") {\r\n            history.push(\"/admin/dashboard\");\r\n        } else {\r\n            history.push(\"/user/history\");\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        // console.table(email, password);\r\n        try {\r\n            const result = await auth.signInWithEmailAndPassword(email, password);\r\n            // console.log(result);\r\n            const { user } = result;\r\n            const idTokenResult = await user.getIdTokenResult();\r\n\r\n            createOrUpdateUser(idTokenResult.token)\r\n                .then((res) => {\r\n                    dispatch({\r\n                        type: \"LOGGED_IN_USER\",\r\n                        payload: {\r\n                            name: res.data.name,\r\n                            email: res.data.email,\r\n                            token: idTokenResult.token,\r\n                            role: res.data.role,\r\n                            _id: res.data._id,\r\n                        },\r\n                    });\r\n                    roleBasedRedirect(res);\r\n                })\r\n                .catch((err) => console.log(err));\r\n\r\n            // history.push(\"/\");\r\n        } catch (error) {\r\n            console.log(error);\r\n            toast.error(error.message);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const googleLogin = async () => {\r\n        auth\r\n            .signInWithPopup(googleAuthProvider)\r\n            .then(async (result) => {\r\n                const { user } = result;\r\n                const idTokenResult = await user.getIdTokenResult();\r\n                createOrUpdateUser(idTokenResult.token)\r\n                    .then((res) => {\r\n                        dispatch({\r\n                            type: \"LOGGED_IN_USER\",\r\n                            payload: {\r\n                                name: res.data.name,\r\n                                email: res.data.email,\r\n                                token: idTokenResult.token,\r\n                                role: res.data.role,\r\n                                _id: res.data._id,\r\n                            },\r\n                        });\r\n                        roleBasedRedirect(res);\r\n                    })\r\n                    .catch((err) => console.log(err));\r\n                // history.push(\"/\");\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                toast.error(err.message);\r\n            });\r\n    };\r\n\r\n    const loginForm = () => (\r\n        <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n                <input\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    placeholder=\"Your email\"\r\n                    autoFocus\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    placeholder=\"Your password\"\r\n                />\r\n            </div>\r\n\r\n            <br />\r\n            <Button\r\n                onClick={handleSubmit}\r\n                type=\"primary\"\r\n                className=\"mb-3\"\r\n                block\r\n                shape=\"round\"\r\n                icon={<MailOutlined />}\r\n                size=\"large\"\r\n                disabled={!email || password.length < 6}\r\n            >\r\n                Login with Email/Password\r\n      </Button>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    {loading ? (\r\n                        <h4 className=\"text-danger\">Loading...</h4>\r\n                    ) : (\r\n                            <h4>Login</h4>\r\n                        )}\r\n                    {loginForm()}\r\n\r\n                    <Button\r\n                        onClick={googleLogin}\r\n                        type=\"danger\"\r\n                        className=\"mb-3\"\r\n                        block\r\n                        shape=\"round\"\r\n                        icon={<GoogleOutlined />}\r\n                        size=\"large\"\r\n                    >\r\n                        Login with Google\r\n          </Button>\r\n\r\n                    <Link to=\"/forgot/password\" className=\"float-right text-danger\">\r\n                        Forgot Password\r\n          </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { auth } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Register = ({ history }) => {\r\n    const [email, setEmail] = useState(\"\");\r\n\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n\r\n    useEffect(() => {\r\n        if (user && user.token) history.push(\"/\");\r\n    }, [user, history]);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        // console.log(\"ENV --->\", process.env.REACT_APP_REGISTER_REDIRECT_URL);\r\n        const config = {\r\n            url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\r\n            handleCodeInApp: true,\r\n        };\r\n\r\n        await auth.sendSignInLinkToEmail(email, config);\r\n        toast.success(\r\n            `Email is sent to ${email}. Click the link to complete your registration.`\r\n        );\r\n        // save user email in local storage\r\n        window.localStorage.setItem(\"emailForRegistration\", email);\r\n        // clear state\r\n        setEmail(\"\");\r\n    };\r\n\r\n    const registerForm = () => (\r\n        <form onSubmit={handleSubmit}>\r\n            <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                placeholder=\"Your email\"\r\n                autoFocus\r\n            />\r\n\r\n            <br />\r\n            <button type=\"submit\" className=\"btn btn-raised\">\r\n                Register\r\n      </button>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Register</h4>\r\n                    {registerForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Register;\r\n","import React from 'react'\r\n\r\n const Home = () => {\r\n    return (\r\n        <div>\r\n            <p>Home</p>\r\n        </div>\r\n    )\r\n}\r\nexport default Home","import React, { useState } from \"react\";\r\nimport { Menu } from \"antd\";\r\nimport {\r\n    AppstoreOutlined,\r\n    SettingOutlined,\r\n    UserOutlined,\r\n    UserAddOutlined,\r\n    LogoutOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport firebase from \"firebase\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst { SubMenu, Item } = Menu;\r\n\r\nconst Header = () => {\r\n    const [current, setCurrent] = useState(\"home\");\r\n\r\n    let dispatch = useDispatch();\r\n    let { user } = useSelector((state) => ({ ...state }));\r\n\r\n    let history = useHistory();\r\n\r\n    const handleClick = (e) => {\r\n        // console.log(e.key);\r\n        setCurrent(e.key);\r\n    };\r\n\r\n    const logout = () => {\r\n        firebase.auth().signOut();\r\n        dispatch({\r\n            type: \"LOGOUT\",\r\n            payload: null,\r\n        });\r\n        history.push(\"/login\");\r\n    };\r\n\r\n    return (\r\n        <Menu onClick={handleClick} selectedKeys={[current]} mode=\"horizontal\">\r\n            <Item key=\"home\" icon={<AppstoreOutlined />}>\r\n                <Link to=\"/\">Home</Link>\r\n            </Item>\r\n\r\n            {!user && (\r\n                <Item key=\"register\" icon={<UserAddOutlined />} className=\"float-right\">\r\n                    <Link to=\"/register\">Register</Link>\r\n                </Item>\r\n            )}\r\n\r\n            {!user && (\r\n                <Item key=\"login\" icon={<UserOutlined />} className=\"float-right\">\r\n                    <Link to=\"/login\">Login</Link>\r\n                </Item>\r\n            )}\r\n\r\n            {user && (\r\n                <SubMenu\r\n                    icon={<SettingOutlined />}\r\n                    title={user.email && user.email.split(\"@\")[0]}\r\n                    className=\"float-right\"\r\n                >\r\n                    {user && user.role === 'subscriber' && <Item ><Link to='/user/history'> DashBoard</Link></Item>}\r\n                    {user && user.role === 'admin' && <Item ><Link to='/admin/dashboard'> DashBoard</Link></Item>}\r\n\r\n\r\n                    <Item icon={<LogoutOutlined />} onClick={logout}>\r\n                        Logout\r\n          </Item>\r\n                </SubMenu>\r\n            )}\r\n        </Menu>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { auth } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { createOrUpdateUser } from \"../../functions/auth\";\r\n\r\nconst RegisterComplete = ({ history }) => {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    // const { user } = useSelector((state) => ({ ...state }));\r\n    let dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        setEmail(window.localStorage.getItem(\"emailForRegistration\"));\r\n        // console.log(window.location.href);\r\n        // console.log(window.localStorage.getItem(\"emailForRegistration\"));\r\n    }, []);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        // validation\r\n        if (!email || !password) {\r\n            toast.error(\"Email and password is required\");\r\n            return;\r\n        }\r\n\r\n        if (password.length < 6) {\r\n            toast.error(\"Password must be at least 6 characters long\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const result = await auth.signInWithEmailLink(\r\n                email,\r\n                window.location.href\r\n            );\r\n            //   console.log(\"RESULT\", result);\r\n            if (result.user.emailVerified) {\r\n                // remove user email fom local storage\r\n                window.localStorage.removeItem(\"emailForRegistration\");\r\n                // get user id token\r\n                let user = auth.currentUser;\r\n                await user.updatePassword(password);\r\n                const idTokenResult = await user.getIdTokenResult();\r\n                // redux store\r\n                console.log(\"user\", user, \"idTokenResult\", idTokenResult);\r\n\r\n                createOrUpdateUser(idTokenResult.token)\r\n                    .then((res) => {\r\n                        dispatch({\r\n                            type: \"LOGGED_IN_USER\",\r\n                            payload: {\r\n                                name: res.data.name,\r\n                                email: res.data.email,\r\n                                token: idTokenResult.token,\r\n                                role: res.data.role,\r\n                                _id: res.data._id,\r\n                            },\r\n                        });\r\n                    })\r\n                    .catch((err) => console.log(err));\r\n\r\n                // redirect\r\n                history.push(\"/\");\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n            toast.error(error.message);\r\n        }\r\n    };\r\n\r\n    const completeRegistrationForm = () => (\r\n        <form onSubmit={handleSubmit}>\r\n            <input type=\"email\" className=\"form-control\" value={email} disabled />\r\n\r\n            <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                placeholder=\"Password\"\r\n                autoFocus\r\n            />\r\n            <br />\r\n            <button type=\"submit\" className=\"btn btn-raised\">\r\n                Complete Registration\r\n      </button>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Register Complete</h4>\r\n                    {completeRegistrationForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RegisterComplete;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { auth } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n\r\nimport { useSelector } from \"react-redux\";\r\n\r\n\r\nconst ForgotPassword = ({ history }) => {\r\n    const [email, setEmail] = useState(\"ridwananik57@gmail.com\");\r\n    const { user } = useSelector(state => ({ ...state }))\r\n\r\n    useEffect(() => {\r\n        if (user && user.token) history.push('/')\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [user])\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    // const dispatch = useDispatch()\r\n\r\n    const handleSubmit = async (e) => {\r\n        setLoading(true)\r\n        // console.log(process.env.REACT_APP_REGISTER_REDIRECT_URL)\r\n        e.preventDefault();\r\n        const config = {\r\n            url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT_URL,\r\n            handleCodeInApp: true,\r\n        };\r\n\r\n\r\n        await auth.sendPasswordResetEmail(email, config)\r\n            .then(() => {\r\n                setLoading(false)\r\n                setEmail('')\r\n\r\n                toast.success('Email Sent')\r\n            })\r\n            .catch(error => {\r\n                setLoading(false)\r\n                console.log('error:', error)\r\n                toast.error(error.message)\r\n\r\n\r\n            })\r\n\r\n    };\r\n\r\n\r\n    const forgotPasswordForm = () => (\r\n\r\n        <form onSubmit={handleSubmit}>\r\n            <div className='form-group'>\r\n                <input\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    placeholder='Enter your email'\r\n                    autoFocus\r\n                />\r\n            </div>\r\n\r\n\r\n            <button disabled={!email || loading} type=\"submit\" className=\"btn btn-raised\">\r\n                Confirm Email\r\n          </button>\r\n\r\n\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    {loading ? <h4 className='text-danger'>Loading... </h4> : <h4>Forgot Password</h4>}\r\n\r\n                    {forgotPasswordForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ForgotPassword;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst UserNav = () => (\r\n    <nav>\r\n        <ul className=\"nav flex-column\">\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/user/history\" className=\"nav-link\">\r\n                    History\r\n        </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/user/password\" className=\"nav-link\">\r\n                    Password\r\n        </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/user/wishlist\" className=\"nav-link\">\r\n                    Wishlist\r\n        </Link>\r\n            </li>\r\n        </ul>\r\n    </nav>\r\n);\r\n\r\nexport default UserNav;\r\n","import React from \"react\";\r\nimport UserNav from \"../../components/nav/UserNav\";\r\n\r\nconst History = () => (\r\n    <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n            <div className=\"col-md-2\">\r\n                <UserNav />\r\n            </div>\r\n            <div className=\"col\">user history page</div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default History;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst LoadingToRedirect = () => {\r\n    const [count, setCount] = useState(5)\r\n    let history = useHistory()\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            setCount(c => --c)\r\n        }, 1000);\r\n        count === 0 && history.push('/')\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        return () => clearInterval(interval)\r\n    }, [count, history])\r\n    return (\r\n        <div className='container p-5 text-center'>\r\n            <p>Redirecting you in {count} seconds</p>\r\n        </div>\r\n    )\r\n}\r\nexport default LoadingToRedirect","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Route } from 'react-router-dom'\r\nimport LoadingToRedirect from './LoadingToRedirect'\r\nconst UserRoute = ({ children, ...rest }) => {\r\n\r\n    const { user } = useSelector(state => ({ ...state }))\r\n    return user && user.token ?\r\n        <Route {...rest} />\r\n        : <LoadingToRedirect />\r\n}\r\n\r\nexport default UserRoute","import React, { useState } from \"react\";\r\nimport UserNav from \"../../components/nav/UserNav\";\r\nimport { auth } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Password = () => {\r\n    const [password, setPassword] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        // console.log(password);\r\n\r\n        await auth.currentUser\r\n            .updatePassword(password)\r\n            .then(() => {\r\n                setLoading(false);\r\n                setPassword(\"\");\r\n                toast.success(\"Password updated\");\r\n            })\r\n            .catch((err) => {\r\n                setLoading(false);\r\n                toast.error(err.message);\r\n            });\r\n    };\r\n\r\n    const passwordUpdateForm = () => (\r\n        <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n                <label>Your Password</label>\r\n                <input\r\n                    type=\"password\"\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    className=\"form-control\"\r\n                    placeholder=\"Enter new password\"\r\n                    disabled={loading}\r\n                    value={password}\r\n                />\r\n                <button\r\n                    className=\"btn btn-primary\"\r\n                    disabled={!password || password.length < 6 || loading}\r\n                >\r\n                    Submit\r\n        </button>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n                    <UserNav />\r\n                </div>\r\n                <div className=\"col\">\r\n                    {loading ? (\r\n                        <h4 className=\"text-danger\">Loading..</h4>\r\n                    ) : (\r\n                            <h4>Password Update</h4>\r\n                        )}\r\n                    {passwordUpdateForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Password;\r\n","import React from \"react\";\r\nimport UserNav from \"../../components/nav/UserNav\";\r\n\r\nconst Wishlist = () => (\r\n    <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n            <div className=\"col-md-2\">\r\n                <UserNav />\r\n            </div>\r\n            <div className=\"col\">user wishlist page</div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default Wishlist;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Route } from 'react-router-dom'\r\nimport { currentAdmin } from '../../../functions/auth'\r\nimport LoadingToRedirect from './LoadingToRedirect'\r\nconst AdminRoute = ({ children, ...rest }) => {\r\n\r\n    const { user } = useSelector(state => ({ ...state }))\r\n    const [ok, setOk] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (user && user.token) {\r\n            currentAdmin(user.token)\r\n                .then(res => {\r\n                    setOk(true)\r\n                    console.log('CURRENT ADMIN RES', res)\r\n\r\n                })\r\n                .catch(err => {\r\n                    setOk(false)\r\n                    console.log('CURRENT ADMIN ERR', err)\r\n                })\r\n\r\n\r\n        }\r\n    }, [user])\r\n    return ok ?\r\n        <Route {...rest} />\r\n        : <LoadingToRedirect />\r\n}\r\n\r\nexport default AdminRoute","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AdminNav = () => (\r\n    <nav>\r\n        <ul className=\"nav flex-column\">\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/admin/dashboard\" className=\"nav-link\">\r\n                    Dashboard\r\n        </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/admin/product\" className=\"nav-link\">\r\n                    Product\r\n        </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/admin/products\" className=\"nav-link\">\r\n                    Products\r\n                </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/admin/category\" className=\"nav-link\">\r\n                    Category\r\n                </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/admin/sub\" className=\"nav-link\">\r\n                    Sub Category\r\n                </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/admin/coupon\" className=\"nav-link\">\r\n                    Coupon\r\n                </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/user/password\" className=\"nav-link\">\r\n                    password\r\n                </Link>\r\n            </li>\r\n        </ul>\r\n    </nav>\r\n);\r\n\r\nexport default AdminNav;\r\n","import React from \"react\";\r\nimport AdminNav from \"../../components/nav/AdminNav\";\r\n\r\nconst AdminDashboard = () => {\r\n    return (\r\n\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n                    <AdminNav />\r\n                </div>\r\n                <div className=\"col\">admin dashboard</div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default AdminDashboard;","import axios from \"axios\";\r\n\r\nexport const getCategories = async () =>\r\n    await axios.get(\r\n        `${process.env.REACT_APP_API}/categories`);\r\n\r\n\r\nexport const getCategory = async (slug) => await axios.get(\r\n    `${process.env.REACT_APP_API}/category/${slug}`);\r\n\r\n\r\nexport const removeCategory = async (slug, authtoken) => await axios.delete(\r\n    `${process.env.REACT_APP_API}/category/${slug}`, {\r\n    headers: {\r\n        authtoken\r\n    }\r\n});\r\n\r\nexport const updateCategory = async (slug, category, authtoken) =>\r\n    await axios.put(\r\n        `${process.env.REACT_APP_API}/category/${slug}`, category, {\r\n        headers: {\r\n            authtoken\r\n        }\r\n    });\r\n\r\nexport const createCategory = async (category, authtoken) =>\r\n    await axios.post(\r\n        `${process.env.REACT_APP_API}/category/`, category, {\r\n        headers: {\r\n            authtoken\r\n        }\r\n    });\r\n\r\n    export const getCategorySubs = async (_id) => await axios.get(\r\n        `${process.env.REACT_APP_API}/category/subs/${_id}`);\r\n    ","\r\nimport React from 'react'\r\nconst CategoryForm = ({ handleSubmit, setName, name }) => (\r\n    <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n            <label>Name</label>\r\n            <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                onChange={(e) => setName(e.target.value)}\r\n                value={name}\r\n                autoFocus\r\n                required\r\n            />\r\n            <br />\r\n            <button  className=\"btn btn-outline-primary\">Save</button>\r\n        </div>\r\n    </form>\r\n);\r\nexport default CategoryForm","\r\n\r\nimport React from 'react'\r\n\r\nconst LocalSearch = ({ setKeyword, keyword }) => {\r\n    // const [keyword, setKeyword] = useState(\"\");\r\n    const handleSearchChange = (e) => {\r\n        e.preventDefault()\r\n        setKeyword(e.target.value)\r\n\r\n\r\n    }\r\n\r\n    return (\r\n\r\n        <div className='container' >\r\n            <input\r\n                type=\"search\"\r\n                placeholder='Filter'\r\n                value={keyword}\r\n                onChange={handleSearchChange}\r\n                className='form-control mb-4'\r\n            />\r\n\r\n        </div >\r\n\r\n    )\r\n}\r\nexport default LocalSearch","import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n    createCategory,\r\n    getCategories,\r\n    removeCategory,\r\n} from \"../../../functions/category\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons'\r\nimport CategoryForm from \"../../../components/forms/CategoryForms\";\r\nimport LocalSearch from \"../../../components/forms/LocalSearch\";\r\n\r\nconst CategoryCreate = () => {\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [keyword, setKeyword] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [categories, setCategories] = useState([]);\r\n\r\n    useEffect(() => {\r\n        loadCategories();\r\n    }, []);\r\n\r\n    const loadCategories = () =>\r\n        getCategories().then((c) => setCategories(c.data));\r\n\r\n    const handleRemove = (slug) => {\r\n        let answer = window.confirm(`Are you sure you want to delete ${slug} ?`)\r\n        console.log(answer)\r\n        if (answer) {\r\n            setLoading(true)\r\n            removeCategory(slug, user.token)\r\n                .then(res => {\r\n                    console.log('res:', res)\r\n                    setLoading(false)\r\n                    toast.success(`${res.data.name} Deleted`)\r\n                    loadCategories()\r\n                })\r\n                .catch(err => {\r\n                    console.log('err:', err)\r\n                    setLoading(false)\r\n                    if (err.response.status === 400) toast.error(err.response.data);\r\n                    else toast.error(err.response.data);\r\n                })\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // console.log(name);\r\n        setLoading(true);\r\n        createCategory({ name }, user.token)\r\n            .then((res) => {\r\n                // console.log(res)\r\n                setLoading(false);\r\n                setName(\"\");\r\n                toast.success(`\"${res.data.name}\" is created`);\r\n                loadCategories()\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                setLoading(false);\r\n                if (err.response.status === 400) toast.error(err.response.data);\r\n                else toast.error(err.response.data);\r\n            });\r\n    };\r\n\r\n\r\n    const searchCallBack = (search) => (c) => c.name.toLowerCase().includes(search.toLowerCase())\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n                    <AdminNav />\r\n                </div>\r\n                <div className=\"col\">\r\n                    {loading ? (\r\n                        <h4 className=\"text-danger\">Loading..</h4>\r\n                    ) : (\r\n                        <h4>Create category</h4>\r\n                    )}\r\n                    <CategoryForm\r\n                        handleSubmit={handleSubmit}\r\n                        name={name}\r\n                        setName={setName}\r\n                    />\r\n\r\n                    <LocalSearch keyword={keyword} setKeyword={setKeyword} />\r\n                    {categories.filter(searchCallBack(keyword)).map((c, id) => (\r\n                        <div key={id} className='alert alert-secondary'>\r\n                            {c.name} <span className='btn btn-sm float-right'>\r\n\r\n                                <DeleteOutlined disabled={loading}\r\n                                    onClick={() => handleRemove(c.slug)}\r\n                                    className='text-danger' /></span>{\" \"}\r\n                            <Link to={`/admin/category/${c.slug}`}>\r\n\r\n\r\n                                <span className='btn btn-sm float-right'> <EditOutlined className='text-warning' /></span>{\" \"}\r\n\r\n\r\n\r\n                            </Link>\r\n                        </div>\r\n\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CategoryCreate;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n    getCategory,\r\n    updateCategory\r\n} from \"../../../functions/category\";\r\nimport CategoryForm from \"../../../components/forms/CategoryForms\";\r\n\r\n\r\nconst CategoryUpdate = ({ history, match: { params } }) => {\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [name, setName] = useState('');\r\n\r\n    useEffect(() => {\r\n        getCategory(params.slug).then(res => {\r\n            setName(res.data.name)\r\n            console.log(res)\r\n        })\r\n            .catch(err => console.log(err))\r\n    }, [params]);\r\n\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // console.log(name);\r\n\r\n        setLoading(true);\r\n        updateCategory(params.slug, { name }, user.token)\r\n            .then((res) => {\r\n                // console.log(res)\r\n                setLoading(false);\r\n                toast.success(`\"${res.data.name}\" is updated`);\r\n                setName('')\r\n\r\n                history.push('/admin/category')\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                setLoading(false);\r\n                if (err.response.status === 400) toast.error(err.response.data);\r\n                else toast.error(err.response.data);\r\n            });\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n                    <AdminNav />\r\n                </div>\r\n                <div className=\"col\">\r\n                    {loading ? (\r\n                        <h4 className=\"text-danger\">Loading..</h4>\r\n                    ) : (\r\n                        <h4>Create category</h4>\r\n                    )}\r\n                    <CategoryForm\r\n                        handleSubmit={handleSubmit}\r\n                        name={name}\r\n                        setName={setName}\r\n                    />\r\n                    <hr />\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CategoryUpdate;\r\n","import axios from \"axios\";\r\n\r\nexport const getSubs = async () =>\r\n    await axios.get(`${process.env.REACT_APP_API}/subs`);\r\n\r\nexport const getSub = async (slug) =>\r\n    await axios.get(`${process.env.REACT_APP_API}/sub/${slug}`);\r\n\r\nexport const removeSub = async (slug, authtoken) =>\r\n    await axios.delete(`${process.env.REACT_APP_API}/sub/${slug}`, {\r\n        headers: {\r\n            authtoken,\r\n        },\r\n    });\r\n\r\nexport const updateSub = async (slug, sub, authtoken) =>\r\n    await axios.put(`${process.env.REACT_APP_API}/sub/${slug}`, sub, {\r\n        headers: {\r\n            authtoken,\r\n        },\r\n    });\r\n\r\nexport const createSub = async (sub, authtoken) =>\r\n    await axios.post(`${process.env.REACT_APP_API}/sub`, sub, {\r\n        headers: {\r\n            authtoken,\r\n        },\r\n    });\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n    createSub,\r\n    getSubs,\r\n    removeSub,\r\n} from \"../../../functions/sub\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons'\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport CategoryForm from \"../../../components/forms/CategoryForms\";\r\nimport LocalSearch from \"../../../components/forms/LocalSearch\";\r\nimport { getCategories } from \"../../../functions/category\";\r\n\r\nconst SubCreate = () => {\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [keyword, setKeyword] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [categories, setCategories] = useState([]);\r\n    const [subs, setSubs] = useState([]);\r\n    const [category, setCategory] = useState([]);\r\n\r\n    useEffect(() => {\r\n        loadCategories();\r\n        loadSubs()\r\n    }, []);\r\n\r\n    const loadCategories = () =>\r\n        getCategories().then((c) => setCategories(c.data));\r\n\r\n    const loadSubs = () =>\r\n        getSubs().then((c) => setSubs(c.data));\r\n\r\n    const handleRemove = (slug) => {\r\n        let answer = window.confirm(`Are you sure you want to delete ${slug} ?`)\r\n        console.log(answer)\r\n        if (answer) {\r\n            setLoading(true)\r\n            removeSub(slug, user.token)\r\n                .then(res => {\r\n                    console.log('res:', res)\r\n                    setLoading(false)\r\n                    toast.error(`${res.data.name} Deleted`)\r\n                    loadSubs()\r\n                })\r\n                .catch(err => {\r\n                    console.log('err:', err)\r\n                    setLoading(false)\r\n                    if (err.response.status === 400) toast.error(err.response.data);\r\n                    else toast.error(err.response.data);\r\n                })\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // console.log(name);\r\n        setLoading(true);\r\n        createSub({ name, parent: category }, user.token)\r\n            .then((res) => {\r\n                // console.log(res)\r\n                setLoading(false);\r\n                setName(\"\");\r\n                toast.success(`\"${res.data.name}\" is created`);\r\n                loadSubs()\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                setLoading(false);\r\n                if (err.response.status === 400) toast.error(err.response.data);\r\n                else toast.error(err.response.data);\r\n            });\r\n    };\r\n\r\n\r\n    const searchCallBack = (search) => (c) => c.name.toLowerCase().includes(search.toLowerCase())\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n                    <AdminNav />\r\n                </div>\r\n                <div className=\"col\">\r\n                    {loading ? (\r\n                        <h4 className=\"text-danger\">Loading..</h4>\r\n                    ) : (\r\n                        <h4>Create sub category</h4>\r\n                    )}\r\n\r\n                    <div className='form-group'>\r\n                        <label>Parent Category</label>\r\n                        <select name='category' className='form-control'\r\n                            onChange={e => setCategory(e.target.value)}\r\n                        >\r\n                            <option>Please Select</option>\r\n                            {categories.length > 0 && categories.map((c, id) => (\r\n                                <option key={c._id} value={c._id}>{c.name}</option>\r\n\r\n                            ))}\r\n\r\n\r\n\r\n                        </select>\r\n\r\n                    </div>\r\n\r\n                    <CategoryForm\r\n                        handleSubmit={handleSubmit}\r\n                        name={name}\r\n                        setName={setName}\r\n                    />\r\n\r\n\r\n                    <LocalSearch keyword={keyword} setKeyword={setKeyword} />\r\n                    {subs.filter(searchCallBack(keyword)).map((c, id) => (\r\n                        <div key={id} className='alert alert-secondary'>\r\n                            {c.name} <span className='btn btn-sm float-right'>\r\n\r\n                                <DeleteOutlined disabled={loading}\r\n                                    onClick={() => handleRemove(c.slug)}\r\n                                    className='text-danger' /></span>{\" \"}\r\n                            <Link to={`/admin/sub/${c.slug}`}>\r\n\r\n\r\n                                <span className='btn btn-sm float-right'> <EditOutlined className='text-warning' /></span>{\" \"}\r\n\r\n\r\n\r\n                            </Link>\r\n                        </div>\r\n\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubCreate;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getCategories } from \"../../../functions/category\";\r\nimport { updateSub, getSub } from \"../../../functions/sub\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport CategoryForm from \"../../../components/forms/CategoryForms\";\r\nimport LocalSearch from \"../../../components/forms/LocalSearch\";\r\n\r\nconst SubUpdate = ({ match, history }) => {\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [categories, setCategories] = useState([]);\r\n    const [parent, setParent] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        loadCategories();\r\n        loadSub();\r\n    }, []);\r\n\r\n    const loadCategories = () =>\r\n        getCategories().then((c) => {\r\n            console.log(c.data)\r\n            setCategories(c.data)\r\n\r\n        }\r\n        );\r\n\r\n    const loadSub = () =>\r\n        getSub(match.params.slug).then((s) => {\r\n            setName(s.data.name);\r\n            console.log('s.data.name:', s.data.name)\r\n            setParent(s.data.parent);\r\n        }).catch(err => console.log('load subs', err))\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // console.log(name);\r\n        setLoading(true);\r\n        updateSub(match.params.slug, { name, parent }, user.token)\r\n            .then((res) => {\r\n                // console.log(res)\r\n                setLoading(false);\r\n                setName(\"\");\r\n                toast.success(`\"${res.data.name}\" is updated`);\r\n                history.push(\"/admin/sub\");\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                setLoading(false);\r\n                if (err.response.status === 400) toast.error(err.response.data);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n                    <AdminNav />\r\n                </div>\r\n                <div className=\"col\">\r\n                    {loading ? (\r\n                        <h4 className=\"text-danger\">Loading..</h4>\r\n                    ) : (\r\n                        <h4>Update sub category</h4>\r\n                    )}\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Parent category</label>\r\n                        <select\r\n                            name=\"category\"\r\n                            className=\"form-control\"\r\n                            onChange={(e) => setParent(e.target.value)}\r\n                        >\r\n                            <option>Please select</option>\r\n                            {categories.length > 0 &&\r\n                                categories.map((c) => (\r\n                                    <option key={c._id} value={c._id} selected={c._id === parent}>\r\n                                        {c.name}\r\n                                    </option>\r\n                                ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <CategoryForm\r\n                        handleSubmit={handleSubmit}\r\n                        name={name}\r\n                        setName={setName}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubUpdate;\r\n","import axios from \"axios\";\r\n\r\nexport const createProduct = async (product, authtoken) =>\r\n    await axios.post(\r\n        `${process.env.REACT_APP_API}/product/`, product, {\r\n        headers: {\r\n            authtoken\r\n        }\r\n    });\r\n","import React from 'react'\r\nimport { Typography, Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\nconst ProductCreateForm = (props) => {\r\n\r\n    const { setValues, handleSubmit, handleChange, values, handleCategoryChange, subOptions } = props\r\n    const {\r\n        title,\r\n        description,\r\n        price,\r\n        categories,\r\n        category,\r\n        subs,\r\n        shipping,\r\n        quantity,\r\n        images,\r\n        colors,\r\n        brands,\r\n        color,\r\n        brand,\r\n    } = values;\r\n    return (\r\n\r\n\r\n        <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n                <label>Title</label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    className=\"form-control\"\r\n                    value={title}\r\n                    onChange={handleChange}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Description</label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"description\"\r\n                    className=\"form-control\"\r\n                    value={description}\r\n                    onChange={handleChange}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Price</label>\r\n                <input\r\n                    type=\"number\"\r\n                    name=\"price\"\r\n                    className=\"form-control\"\r\n                    value={price}\r\n                    onChange={handleChange}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Shipping</label>\r\n                <select\r\n                    name=\"shipping\"\r\n                    className=\"form-control\"\r\n                    onChange={handleChange}\r\n                >\r\n                    <option>Please select</option>\r\n                    <option value=\"No\">No</option>\r\n                    <option value=\"Yes\">Yes</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Quantity</label>\r\n                <input\r\n                    type=\"number\"\r\n                    name=\"quantity\"\r\n                    className=\"form-control\"\r\n                    value={quantity}\r\n                    onChange={handleChange}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Color</label>\r\n                <select\r\n                    name=\"color\"\r\n                    className=\"form-control\"\r\n                    onChange={handleChange}\r\n                >\r\n                    <option>Please select</option>\r\n                    {colors.map((c) => (\r\n                        <option key={c} value={c}>\r\n                            {c}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Brand</label>\r\n                <select\r\n                    name=\"brand\"\r\n                    className=\"form-control\"\r\n                    onChange={handleChange}\r\n                >\r\n                    <option>Please select</option>\r\n                    {brands.map((b) => (\r\n                        <option key={b} value={b}>\r\n                            {b}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n            <div className='form-group'>\r\n                <label>Category</label>\r\n                <select name='category' className='form-control'\r\n                    onChange={handleCategoryChange}\r\n                >\r\n                    <option>Please Select</option>\r\n                    {categories.length > 0 && categories.map((c, id) => (\r\n                        <option key={c._id} value={c._id}>{c.name}</option>\r\n\r\n                    ))}\r\n\r\n\r\n\r\n                </select>\r\n\r\n            </div>\r\n\r\n            {subOptions.length > 0 &&\r\n                <div>\r\n                    <label>Sub Category</label>\r\n                    <Select\r\n                        mode=\"multiple\"\r\n                        style={{ width: \"100%\" }}\r\n                        placeholder=\"Please select\"\r\n                        defaultValue={[\"a10\", \"c12\"]}\r\n                        onChange={val => setValues({ ...values, subs: val })}\r\n                        name='subs'\r\n                        value={subs}\r\n                    >\r\n                        {subOptions.map((c, id) => (\r\n                            <Option key={c._id} value={c._id}>{c.name}</Option>\r\n\r\n                        ))}\r\n\r\n                    </Select>\r\n                </div>\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n            <button className=\"btn btn-outline-info\">Save</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default ProductCreateForm\r\n","import React from 'react'\r\nimport Resizer from 'react-image-file-resizer';\r\nimport axios from 'axios'\r\nimport { useSelector } from 'react-redux';\r\nimport { Avatar, Badge } from 'antd';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst resizeFile = (file) => new Promise(resolve => {\r\n    Resizer.imageFileResizer(file, 360, 360, 'JPEG', 100, 0,\r\n        uri => {\r\n            resolve(uri);\r\n        },\r\n        'base64'\r\n    );\r\n});\r\n\r\nconst FileUpload = ({ values, setValues, setLoading, setKey }) => {\r\n    const { user } = useSelector(state => ({ ...state }))\r\n\r\n    const fileUploadAndResize = (e) => {\r\n        let files = e.target.files\r\n        console.log('e.target.files:', e.target.files)\r\n        let allUploadedFiles = values ? values.images : []\r\n        if (files.length > 0) {\r\n            setLoading(true)\r\n            for (let i = 0; i < files.length; i++) {\r\n                resizeFile(files[i])\r\n                    .then(uri => {\r\n                        console.log(uri)\r\n                        axios.post(`${process.env.REACT_APP_API}/uploadimages`, {\r\n                            image: uri\r\n                        }, {\r\n                            headers: {\r\n                                authtoken: user ? user.token : ''\r\n                            }\r\n                        }).then(res => {\r\n                            console.log('IMAGE UPLOAD RES DATA', res)\r\n                            setKey(Math.random())\r\n                            toast.success('Uploaded')\r\n                            setLoading(false)\r\n                            allUploadedFiles.push(res.data)\r\n                        })\r\n                            .catch(err => {\r\n                                console.log('IMAGE POST FAILED', err)\r\n                            })\r\n\r\n\r\n                    })\r\n                    .catch(err => {\r\n                        console.log('IMAGE RESIZE FAILED', err)\r\n                    })\r\n            }\r\n            setValues({ ...values, images: allUploadedFiles })\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    const handleImageRemove = (public_id) => {\r\n        console.log('id:', public_id)\r\n        setLoading(true)\r\n        axios.post(`${process.env.REACT_APP_API}/removeimage`, {\r\n            public_id\r\n        }, {\r\n            headers: {\r\n                authtoken: user.token\r\n            }\r\n        }).then(res => {\r\n            console.log('IMAGE UPLOAD RES DATA', res)\r\n            setKey(Math.random())\r\n            let filteredImages = values.images.filter(image => image.public_id !== public_id)\r\n            setValues({ ...values, images: filteredImages })\r\n            setLoading(false)\r\n            // allUploadedFiles.push(res.data)\r\n        }).catch(err => {\r\n            setLoading(false)\r\n            console.log(err)\r\n        })\r\n    }\r\n    return (\r\n        <>\r\n\r\n\r\n            <div className='row'>\r\n\r\n                {values.images && values.images.map((image, i) => (\r\n                    <Badge count='X' key={image.public_id}\r\n                        style={{ cursor: 'pointer' }}\r\n                        onClick={() => handleImageRemove(image.public_id)}\r\n\r\n                    >\r\n\r\n                        <Avatar\r\n                            src={image.url} size={100}\r\n                            shape='square'\r\n                            className='m-3'\r\n                        >\r\n                            Product Image\r\n                    </Avatar>\r\n                    </Badge>\r\n\r\n\r\n                ))}\r\n\r\n            </div>\r\n            <div className='row'>\r\n                <label className='btn btn-primary'>\r\n                    Choose File\r\n            <input type='file'\r\n                        hidden\r\n                        multiple accept='images/*'\r\n                        onChange={fileUploadAndResize}\r\n                    />\r\n                </label>\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default FileUpload\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n    createProduct,\r\n\r\n} from \"../../../functions/product\";\r\n\r\n\r\n\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport ProductCreateForm from \"../../../components/forms/ProductCreateForm\";\r\nimport { getCategories, getCategorySubs } from \"../../../functions/category\";\r\nimport FileUpload from \"../../../components/forms/FileUpload\";\r\nimport { Loading3QuartersOutlined, LoadingOutlined } from \"@ant-design/icons\";\r\n\r\nconst initialState = {\r\n    title: \"Nokia x7\",\r\n    description: \"Best Phone\",\r\n    price: \"25500\",\r\n    categories: [],\r\n    category: \"\",\r\n    subs: [],\r\n    shipping: \"Yes\",\r\n    quantity: \"50\",\r\n    images: [\r\n        //     {\r\n        //     \"public_id\": \"x0vydnubetho0d04tkfi\",\r\n        //     \"url\": \"https://res.cloudinary.com/dhhstdwuq/image/upload/v1614983744/x0vydnubetho0d04tkfi.jpg\"\r\n        // },\r\n        // {\r\n        //     \"public_id\": \"owjhdb8gzazgfwnddisf\",\r\n        //     \"url\": \"https://res.cloudinary.com/dhhstdwuq/image/upload/v1614983874/owjhdb8gzazgfwnddisf.jpg\"\r\n        // }\r\n    ],\r\n    colors: [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"],\r\n    brands: [\"Apple\", \"Samsung\", \"Microsoft\", \"Lenovo\", \"ASUS\"],\r\n    color: \"Black\",\r\n    brand: \"Nokia\",\r\n};\r\n\r\nconst ProductCreate = () => {\r\n    const [values, setValues] = useState(initialState);\r\n    const { user } = useSelector(state => ({ ...state }))\r\n    const [subOptions, setSubOptions] = useState([]);\r\n    const [loading, setLoading] = useState(false)\r\n    const [key, setKey] = useState(\"1\")\r\n\r\n    useEffect(() => {\r\n        console.log('use effect product create')\r\n        loadCategories();\r\n    }, []);\r\n\r\n    const loadCategories = () =>\r\n        getCategories().then((c) =>\r\n            setValues({ ...values, categories: c.data })\r\n\r\n\r\n        )\r\n            .catch(err => console.log(err))\r\n\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        createProduct(values, user.token)\r\n            .then(res => {\r\n\r\n                window.alert(`\"${res.data.title}\" is created`);\r\n                window.location.reload()\r\n                setValues(initialState)\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n\r\n                // if (err.response.status === 400) toast.error(err.response.message);\r\n                // else\r\n                toast.error(err.response.data.err);\r\n            })\r\n        //\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setValues((prev) => ({\r\n            ...prev,\r\n            [e.target.name]: e.target.value\r\n\r\n        }))\r\n        // console.log(e.target.name, '------------', e.target.value)\r\n        //\r\n    };\r\n\r\n    const handleCategoryChange = (e) => {\r\n        e.preventDefault()\r\n        console.log('handleCategoryChange', e.target.value)\r\n        setValues((prev) => ({\r\n            ...prev,\r\n            [e.target.name]: e.target.value,\r\n            subs: []\r\n        }))\r\n        getCategorySubs(e.target.value).then(res => {\r\n\r\n            console.log(res.data)\r\n            setSubOptions(res.data)\r\n        })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n        // console.log(e.target.name, '------------', e.target.value)\r\n        //\r\n    };\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n                    <AdminNav />\r\n                </div>\r\n\r\n                <div className=\"col-md-10\">\r\n                    {loading ? <LoadingOutlined className='text-danger h1' /> : <h4>Product create</h4>}\r\n                    <hr />\r\n                    <div className='p-3'>\r\n                        <FileUpload\r\n                            key={key}\r\n                            setKey={setKey}\r\n                            values={values}\r\n                            setValues={setValues}\r\n                            setLoading={setLoading}\r\n                        />\r\n\r\n                    </div>\r\n\r\n\r\n                    <ProductCreateForm\r\n                        handleSubmit={handleSubmit}\r\n                        handleChange={handleChange}\r\n                        values={values}\r\n                        handleCategoryChange={handleCategoryChange}\r\n                        subOptions={subOptions}\r\n                        setValues={setValues}\r\n                    />\r\n\r\n\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductCreate;\r\n\r\n","import React, { useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Login from \"./pages/auth/Login\";\nimport Register from \"./pages/auth/Register\";\nimport Home from \"./pages/Home\";\nimport Header from \"./components/nav/Header\";\nimport RegisterComplete from \"./pages/auth/RegisterComplete\";\nimport ForgotPassword from \"./pages/auth/ForgotPassword\";\n\nimport { auth } from \"./firebase\";\nimport { useDispatch } from \"react-redux\";\nimport { currentUser } from \"./functions/auth\";\nimport History from \"./pages/user/History\";\nimport UserRoute from \"./components/nav/routes/UserRoute\";\nimport Password from \"./pages/user/Password\";\nimport Wishlist from \"./pages/user/Wishlist\";\nimport AdminRoute from \"./components/nav/routes/AdminRoute\";\nimport AdminDashboard from \"./pages/admin/AdminDashboard\";\nimport CategoryCreate from \"./pages/admin/category/CategoryCreate\";\nimport CategoryUpdate from \"./pages/admin/category/CategoryUpdate\";\nimport SubCreate from \"./pages/admin/sub/SubCreate\";\nimport SubUpdate from \"./pages/admin/sub/SubUpdate\";\nimport ProductCreate from \"./pages/admin/product/ProductCreate\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  // to check firebase auth state\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        const idTokenResult = await user.getIdTokenResult();\n        console.log(\"user\", user);\n\n        currentUser(idTokenResult.token)\n          .then((res) => {\n            dispatch({\n              type: \"LOGGED_IN_USER\",\n              payload: {\n                name: res.data.name,\n                email: res.data.email,\n                token: idTokenResult.token,\n                role: res.data.role,\n                _id: res.data._id,\n              },\n            });\n          })\n          .catch((err) => console.log(err));\n      }\n    });\n    // cleanup\n    return () => unsubscribe();\n  }, [dispatch]);\n\n  return (\n    <>\n      <Header />\n      <ToastContainer />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/register\" component={Register} />\n        <Route exact path=\"/register/complete\" component={RegisterComplete} />\n        <Route exact path=\"/forgot/password\" component={ForgotPassword} />\n        <UserRoute exact path=\"/user/history\" component={History} />\n        <UserRoute exact path=\"/user/password\" component={Password} />\n        <UserRoute exact path=\"/user/wishlist\" component={Wishlist} />\n\n        <AdminRoute exact path=\"/admin/dashboard\" component={AdminDashboard} />\n        <AdminRoute exact path=\"/admin/category\" component={CategoryCreate} />\n        <AdminRoute exact path=\"/admin/category/:slug\" component={CategoryUpdate} />\n\n        <AdminRoute exact path=\"/admin/sub\" component={SubCreate} />\n        <AdminRoute exact path=\"/admin/sub/:slug\" component={SubUpdate} />\n\n        <AdminRoute exact path=\"/admin/product\" component={ProductCreate} />\n\n\n      </Switch>\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from 'redux'\r\nimport { userReducer } from './userReducer';\r\n\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    user: userReducer\r\n});\r\n\r\nexport default rootReducer\r\n","\r\n\r\nexport const userReducer = (state = null, action) => {\r\n    switch (action.type) {\r\n        case \"LOGGED_IN_USER\":\r\n            return action.payload\r\n        case \"LOGOUT\":\r\n            return action.payload\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport \"antd/dist/antd.css\";\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport rootReducer from './reducers';\n\nconst store = createStore(rootReducer, composeWithDevTools())\nReactDOM.render(\n  // <React.StrictMode>\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n\n\n  // </React.StrictMode>\n  ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}