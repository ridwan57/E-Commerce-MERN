{"version":3,"sources":["logo.svg","pages/auth/Home.js","firebase.js","pages/auth/Login.js","pages/auth/Register.js","components/nav/Header.js","pages/auth/RegisterComplete.js","pages/auth/ForgotPassword.js","App.js","reportWebVitals.js","reducers/index.js","reducers/userReducer.js","index.js"],"names":["Home","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","googleAuthProvider","GoogleAuthProvider","Login","history","useState","email","setEmail","password","setPassword","loading","setLoading","dispatch","useDispatch","user","useSelector","state","useEffect","token","push","handleSubmit","e","a","console","log","process","preventDefault","table","signInWithEmailAndPassword","result","getIdToken","toast","error","message","googleLogin","signInWithPopup","then","getIdTokenResult","idTokenResult","type","payload","catch","className","onSubmit","value","onChange","target","placeholder","autoFocus","onClick","block","shape","icon","MailOutlined","size","disabled","length","GoogleOutlined","to","Register","config","url","handleCodeInApp","sendSignInLinkToEmail","success","window","localStorage","setItem","SubMenu","Menu","Item","Header","current","setCurrent","sta","useHistory","key","selectedKeys","mode","AppstoreOutlined","UserAddOutlined","UserOutlined","SettingOutlined","title","split","RegisterComplete","getItem","location","href","signInWithEmailLink","emailVerified","removeItem","currentUser","updatePassword","ForgotPassword","sendPasswordResetEmail","App","unsubscribe","onAuthStateChanged","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e9d33439.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react'\r\n\r\n const Home = () => {\r\n    return (\r\n        <div>\r\n            <p>Home</p>\r\n        </div>\r\n    )\r\n}\r\nexport default Home","import firebase from \"firebase/app\"\r\nimport \"firebase/auth\"\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBS7Gi4aU2rXZ2Tjy9XUYSaLgaW8HlqgnA\",\r\n    authDomain: \"e-commerce-mern-dbf46.firebaseapp.com\",\r\n    projectId: \"e-commerce-mern-dbf46\",\r\n    storageBucket: \"e-commerce-mern-dbf46.appspot.com\",\r\n    messagingSenderId: \"129077110402\",\r\n    appId: \"1:129077110402:web:3ba530ea06be501fccf69b\",\r\n    measurementId: \"G-R7KHNYMLJ4\"\r\n};\r\n\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// export\r\nexport const auth = firebase.auth();\r\nexport const googleAuthProvider = new firebase.auth.GoogleAuthProvider();","import React, { useEffect, useState } from \"react\";\r\nimport { auth, googleAuthProvider } from \"../../firebase\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { Button } from \"antd\";\r\nimport {\r\n    GoogleOutlined,\r\n    MailOutlined\r\n} from \"@ant-design/icons\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport axios from 'axios'\r\n\r\n// const createOrUpdateUser = async (authtoken) => {\r\n//     return await axios.post(\r\n//         `${process.env.REACT_APP_API}/create-or-update-users`,\r\n//         {},\r\n//         {\r\n//             headers: {\r\n//                 authtoken\r\n//             }\r\n//         })\r\n\r\n// }\r\n\r\nconst Login = ({ history }) => {\r\n    const [email, setEmail] = useState(\"ridwananik57@gmail.com\");\r\n    const [password, setPassword] = useState(\"123456\");\r\n    const [loading, setLoading] = useState(false);\r\n    const dispatch = useDispatch()\r\n\r\n    const { user } = useSelector(state => ({ ...state }))\r\n\r\n    useEffect(() => {\r\n        if (user && user.token) history.push('/')\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [user])\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        setLoading(true)\r\n        console.log(process.env.REACT_APP_REGISTER_REDIRECT_URL)\r\n        e.preventDefault();\r\n        console.table(email, password);\r\n        try {\r\n            const result = await auth.signInWithEmailAndPassword(email, password)\r\n            console.log(result)\r\n            const idTokenResult = await result.user.getIdToken()\r\n            // createOrUpdateUser(idTokenResult.token)\r\n            //     .then(res => console.log(res))\r\n            //     .catch()\r\n            // dispatch({\r\n            //     type: 'LOGGED_IN_USER',\r\n            //     payload: {\r\n            //         email: result.user.email,\r\n            //         token: idTokenResult.token\r\n            //     }\r\n            // })\r\n\r\n            // history.push('/')\r\n        } catch (error) {\r\n            setLoading(false)\r\n            console.log('error:', error)\r\n            toast.error(error.message)\r\n\r\n        }\r\n\r\n    };\r\n    const googleLogin = async () => {\r\n        auth.signInWithPopup(googleAuthProvider)\r\n            .then(async (result) => {\r\n                const { user } = result\r\n                const idTokenResult = await user.getIdTokenResult()\r\n                dispatch({\r\n                    type: 'LOGGED_IN_USER',\r\n                    payload: {\r\n                        email: user.email,\r\n                        token: idTokenResult.token\r\n                    }\r\n                })\r\n                history.push('/')\r\n\r\n            })\r\n            .catch(error => {\r\n\r\n\r\n                console.log('error:', error)\r\n                toast.error(error.message)\r\n\r\n\r\n            })\r\n\r\n    }\r\n\r\n    const loginForm = () => (\r\n\r\n        <form onSubmit={handleSubmit}>\r\n            <div className='form-group'>\r\n                <input\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    placeholder='Enter your email'\r\n                    autoFocus\r\n                />\r\n            </div>\r\n            <div className='form-group'>\r\n                <input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    placeholder='Enter your password'\r\n                    autoFocus\r\n                />\r\n            </div>\r\n            <br />\r\n\r\n            <Button\r\n                onClick={handleSubmit}\r\n                type='primary'\r\n                className='mb-3'\r\n                block\r\n                shape='round'\r\n                icon={<MailOutlined />}\r\n                size='large'\r\n                disabled={!email || password.length < 6 || loading}\r\n            >\r\n                Login with Email and password\r\n           </Button>\r\n\r\n            <Button\r\n                onClick={googleLogin}\r\n                type='danger'\r\n                className='mb-3'\r\n                block\r\n                shape='round'\r\n                icon={<GoogleOutlined />}\r\n                size='large'\r\n                disabled={!email || password.length < 6 || loading}\r\n            >\r\n                Login with Google\r\n           </Button>\r\n\r\n\r\n            <Link to='/forgot/password' className='float-right text-danger'>Forgot Password</Link>\r\n\r\n\r\n\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    {loading ? <h4 className='text-danger'>Loading... </h4> : <h4>Login</h4>}\r\n\r\n                    {loginForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import React, { useEffect, useState } from \"react\";\r\nimport { auth } from \"../../firebase\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Register = ({ history }) => {\r\n    const [email, setEmail] = useState(\"\");\r\n\r\n    const { user } = useSelector(state => ({ ...state }))\r\n\r\n    useEffect(() => {\r\n        if (user && user.token) history.push('/')\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [user])\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        console.log(process.env.REACT_APP_REGISTER_REDIRECT_URL)\r\n        e.preventDefault();\r\n        const config = {\r\n            url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\r\n            handleCodeInApp: true,\r\n        };\r\n\r\n        await auth.sendSignInLinkToEmail(email, config);\r\n        toast.success(\r\n            `Email is sent to ${email}. Click the link to complete your registration.`\r\n        );\r\n        // save user email in local storage\r\n        window.localStorage.setItem(\"emailForRegistration\", email);\r\n        // clear state\r\n        setEmail(\"\");\r\n    };\r\n\r\n    const registerForm = () => (\r\n        <form onSubmit={handleSubmit}>\r\n            <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                placeholder='Enter your email'\r\n                autoFocus\r\n            />\r\n            <br />\r\n            <button type=\"submit\" className=\"btn btn-raised\">\r\n                Register\r\n             </button>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Register</h4>\r\n\r\n                    {registerForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Register;","import React, { useState } from \"react\";\r\nimport { Menu } from \"antd\";\r\nimport {\r\n    AppstoreOutlined,\r\n    SettingOutlined,\r\n    UserOutlined,\r\n    UserAddOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Link } from 'react-router-dom'\r\n// import firebase from 'firebase/app'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from 'react-router-dom'\r\n// import { auth } from \"../../firebase\";\r\nconst { SubMenu, Item } = Menu;\r\n\r\nconst Header = ({ history }) => {\r\n    const [current, setCurrent] = useState(\"home\");\r\n    const { user } = useSelector(sta => ({ ...sta }))\r\n    console.log('user:', user)\r\n    const dispatch = useDispatch()\r\n    history = useHistory()\r\n\r\n    const handleClick = (e) => {\r\n        // console.log(e.key);\r\n        setCurrent(e.key);\r\n    };\r\n    const logout = () => {\r\n        // firebase.auth().signOut()\r\n        // auth().signOut()\r\n\r\n        dispatch({\r\n            type: 'LOGOUT',\r\n            payload: null\r\n        })\r\n        history.push('/login')\r\n\r\n    }\r\n\r\n    return (\r\n        <Menu onClick={handleClick} selectedKeys={[current]} mode=\"horizontal\" >\r\n            <Item key=\"home\" icon={<AppstoreOutlined />}>\r\n                <Link to='/'> Home </Link>\r\n            </Item>\r\n            {\r\n                !user && (<><Item key=\"register\" icon={<UserAddOutlined />} className=\"float-right\">\r\n                    <Link to='/register'> Register </Link>\r\n                </Item>\r\n\r\n                    <Item key=\"login\" icon={<UserOutlined />} className=\"float-right\">\r\n                        <Link to='/login'> Login </Link>\r\n                    </Item></>)\r\n            }\r\n\r\n            {user && <SubMenu icon={<SettingOutlined />}\r\n                title={user.email && user.email.split('@')[0]}\r\n                className=\"float-right\">\r\n                <Item key=\"setting:1\">Option 1</Item>\r\n                <Item icon={<UserOutlined />} onClick={logout}>Logout</Item>\r\n            </SubMenu>}\r\n\r\n        </Menu>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { auth } from \"../../firebase\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst RegisterComplete = ({ history }) => {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        setEmail(window.localStorage.getItem('emailForRegistration'))\r\n        console.log(window.location.href)\r\n\r\n    }, [])\r\n\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        if (!email || !password) {\r\n            toast.error(\"Email and Password is incoorect\")\r\n            return\r\n        }\r\n        if (password.length < 6) {\r\n            toast.error(\"Password mus be at least 6 characters long\")\r\n            return\r\n        }\r\n\r\n        e.preventDefault();\r\n        try {\r\n            const result = await auth.signInWithEmailLink(email, window.location.href)\r\n            console.log(result)\r\n\r\n            if (result.user.emailVerified) {\r\n                window.localStorage.removeItem(\"emailForRegistration\")\r\n                let user = auth.currentUser\r\n\r\n                await user.updatePassword(password)\r\n\r\n                const idTokenResult = await user.getIdToken()\r\n                history.push('/')\r\n\r\n            }\r\n        } catch (error) {\r\n            console.log('error:', error)\r\n            toast.error(error.message)\r\n\r\n        }\r\n    };\r\n\r\n    const completeRegisterForm = () => (\r\n        <form onSubmit={handleSubmit}>\r\n            <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                value={email}\r\n                // onChange={(e) => setEmail(e.target.value)}\r\n\r\n                disabled\r\n            />\r\n            <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                placeholder='Password'\r\n                autoFocus\r\n\r\n            />\r\n\r\n            <button type=\"submit\" className=\"btn btn-raised\">\r\n                Register\r\n      </button>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Register</h4>\r\n\r\n                    {completeRegisterForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RegisterComplete;","import React, { useEffect, useState } from \"react\";\r\nimport { auth, googleAuthProvider } from \"../../firebase\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { Button } from \"antd\";\r\nimport {\r\n    GoogleOutlined,\r\n    MailOutlined\r\n} from \"@ant-design/icons\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ForgotPassword = ({ history }) => {\r\n    const [email, setEmail] = useState(\"ridwananik57@gmail.com\");\r\n    const { user } = useSelector(state => ({ ...state }))\r\n\r\n    useEffect(() => {\r\n        if (user && user.token) history.push('/')\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [user])\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const dispatch = useDispatch()\r\n\r\n    const handleSubmit = async (e) => {\r\n        setLoading(true)\r\n        // console.log(process.env.REACT_APP_REGISTER_REDIRECT_URL)\r\n        e.preventDefault();\r\n        const config = {\r\n            url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT_URL,\r\n            handleCodeInApp: true,\r\n        };\r\n\r\n\r\n        const result = await auth.sendPasswordResetEmail(email, config)\r\n            .then(() => {\r\n                setLoading(false)\r\n                setEmail('')\r\n\r\n                toast.success('Email Sent')\r\n            })\r\n            .catch(error => {\r\n                setLoading(false)\r\n                console.log('error:', error)\r\n                toast.error(error.message)\r\n\r\n\r\n            })\r\n\r\n    };\r\n\r\n\r\n    const forgotPasswordForm = () => (\r\n\r\n        <form onSubmit={handleSubmit}>\r\n            <div className='form-group'>\r\n                <input\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    placeholder='Enter your email'\r\n                    autoFocus\r\n                />\r\n            </div>\r\n\r\n\r\n            <button disabled={!email || loading} type=\"submit\" className=\"btn btn-raised\">\r\n                Confirm Email\r\n          </button>\r\n\r\n\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    {loading ? <h4 className='text-danger'>Loading... </h4> : <h4>Forgot Password</h4>}\r\n\r\n                    {forgotPasswordForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ForgotPassword;","import logo from './logo.svg';\nimport './App.css';\nimport { Route, Switch } from 'react-router-dom'\nimport Home from './pages/auth/Home';\nimport Login from './pages/auth/Login';\nimport Register from './pages/auth/Register';\nimport Header from './components/nav/Header';\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport RegisterComplete from './pages/auth/RegisterComplete';\nimport { auth } from './firebase';\nimport { useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport ForgotPassword from './pages/auth/ForgotPassword';\n\n\nconst App = () => {\n\n  const dispatch = useDispatch()\n\n\n  useEffect(() => {\n    const unsubscribe =\n      auth.onAuthStateChanged(async (user) => {\n        if (user) {\n          console.log(user)\n          const idTokenResult = await user.getIdTokenResult()\n          dispatch({\n            type: \"LOGGED_IN_USER\",\n            payload: {\n              email: user.email,\n              token: idTokenResult.token\n\n            }\n          })\n\n        }\n      })\n\n    return () => unsubscribe()\n\n  }, [])\n  return (\n    <>\n      <ToastContainer />\n      <Header />\n      <Switch>\n        <Route exact path='/register/complete' component={RegisterComplete} />\n        <Route exact path='/login' component={Login} />\n        <Route exact path='/register' component={Register} />\n        <Route exact path='/forgot/password' component={ForgotPassword} />\n        <Route exact path='/' component={Home} />\n      </Switch>\n    </>\n\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from 'redux'\r\nimport { userReducer } from './userReducer';\r\n\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    user: userReducer\r\n});\r\n\r\nexport default rootReducer\r\n","import React from 'react'\r\n\r\nexport const userReducer = (state = null, action) => {\r\n    switch (action.type) {\r\n        case \"LOGGED_IN_USER\":\r\n            return action.payload\r\n        case \"LOGOUT\":\r\n            return action.payload\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport \"antd/dist/antd.css\";\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport rootReducer from './reducers';\n\nconst store = createStore(rootReducer, composeWithDevTools())\nReactDOM.render(\n  // <React.StrictMode>\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n\n\n  // </React.StrictMode>\n  ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}